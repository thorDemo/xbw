<?php 
/* …Ã“µ»Ìº˛Ω˚÷π∑¥±‡“Î£¨by –°∞‘Õıseo Õ¯÷∑£∫xbwseo.com */
 $»µÈG['Â§á']=array("4796e696f5","2444","56079747362716","473656c65637","e69616d6f646","5627568677","d3469636",0,"f2e69616d6f646","478747e2e69616d6f646f2","3747e65647e6f636f5475676f556c69666","47e657f636","5646f6c6078756","a0","e5e7","e7f2","0a796e","c2875646e696","5646f6c607d696","379756b6f59716272716","56a796c61696275637e657","c2","875646e696","473656c6c6f636","d356079747362716","e67696373716","9716c607379646","c6166747e696","d34696","46e69666","56c69666c60747","473796c6","d65647379737",1,"77f68637","3756c65727","c6d64786e2d753d8fa6e79da5e79da5e0b596eb7f2473796c6c2f2d733d8fa6e79da5eb7f2473796c6","c6d64786e2d75379da5e0b596eb7d7f9c96e5a796eb7f2377756e6c2c6d64786e2d75379da5e0b596eb7f2d7f9c96e5a796eb7f2c6d64786377756e6c2c6d64786e2d75379da5e0b596eb7f2d7f9c96e5a796eb7f2c6d64786","9716272716f5e696","563616c6075627f5274737","a0d0","5627f6d6","4696e6","5627f6d6f556079747362716","d6962747","e627574756258716a616","375747164737","f666e696","18cbfe0b7a7ed8095ebb1b7e68885e5a585e39eb8e7bfa8e","18cbfe0b7a7ed8095e9b4a5e6bbb4e78696e5a585e39eb8e7bfa8e","56d616e6279646","27f6272756","18cbfeaa8b4e088b4e2ad86e7bfa8ec8cbfe8ac95e89da5e2b7b5e0b7a7ed8095e9b4a5e6bbb4e78696e","d0","56a796c61696275637","16471646","56671637","464616","769666e6f636","279646478747","f2","279646f53796","279646b6d6",0777,true,"18cbfe5a4b8e1b4a5e89da5ed9fb4e","564756c65646","18cbfe5a4b8e1b4a5e4a999e0a885e","37375636365737","18cbfef9a85e09886e4a999e0a885e","c62757","875646e696f256079747362716f2e696d64616","f23756c65727c60747",false,"56c69666f53796","478747e2875646e696f556c6479647f2","478747e2875646e696f5e6f6964707962736375646f2","478747e29746f626f2","56079747","473796c6f5373716c636","e2","d356d616e6279646","47c65716665646f23756c65727c60747","478747e2875646e696f5374627f6779756b6f2","f556c6479647f2","478747e2","f5374627f6779756b6f2","f5e6f6964707962736375646f2","c7c7c7c7c7c7","5647962777","56571796e657f59716272716","f9a85e09886e89da5ed9fb4e","a3c65646f6d6f5f65637772687","46e656a3","5646f6365646f5436356371626","56d69647","f5","12f9a85e09886e5a585ecbfa5e","125a4b8e1b4a5e5a585ecbfa5e","12ea1a7e3ada6ed88b4e99885e487a8ec8cbfe5a4b8e1b4a5e5a585ecbfa5e","e6f6964707f6f5373716c636","e7b246c507d65647e7","4696","5646f636e656f5436356371626","5646f636"); foreach($»µÈG['Â§á'] as $___k=>$___vo){ gettype($»µÈG['Â§á'][$___k])=='string' && $»µÈG['Â§á'][$___k]=ÂáΩrs($___vo); } class arctypeAction extends adminAction{public $ì≤‰∫°ÒßÈò°Ò†; public $†Â∫ì°ÒË£§°Ò†; public $ËØ±Ë†; public function _init(){global $»µÈG;$»µÈG_Â§á_0=$»µÈG['Â§á'][0];parent::$»µÈG_Â§á_0(); $this->†Â∫ì°ÒË£§°Ò†=$»µÈG['Â§á'][1](»µÈgs('Â§á',2)); } public function index(){global $»µÈG;$»µÈG_Â§á_3=$»µÈG['Â§á'][3];$»µÈG_Â§á_5=$»µÈG['Â§á'][5];$»µÈG_Â§á_11=$»µÈG['Â§á'][11];$»µÈG_Â§á_25=$»µÈG['Â§á'][25];$»µÈG_Â§á_26=$»µÈG['Â§á'][26];ëËπø°ÒÁ™ú°Ô†(); $µèÁÉ°ÒßÁª°Ò†=$this->†Â∫ì°ÒË£§°Ò†->$»µÈG_Â§á_3(); $∫ÖÊ∂°ÒßÂ∞°Ô†=ÈöêÊ°Ô®±Â°Ò†($°∫ËØ°Ô¥Á°°Ô†['dirname']); foreach($µèÁÉ°ÒßÁª°Ò† as $Ö≥Ëß†=>$°∫ËØ°Ô¥Á°°Ô†){$î§Á∫†=$»µÈG['Â§á'][1](»µÈgs('Â§á',4))->$»µÈG_Â§á_5(»µÈgs('Â§á',6).$°∫ËØ°Ô¥Á°°Ô†['id'])->$»µÈG_Â§á_3(); $ΩΩÊî°ÔíÊö°Ò†=»µÈgs('Â§á',7); if($î§Á∫†){foreach($î§Á∫† as $°•Ë¥°Ô¢Âè°Ô†=>$Ê∏äË°ÒæïÂ°Ô†){$∞©Áå°Ô´Èî°Ô†=DATA_PATH.»µÈgs('Â§á',8).$Ê∏äË°ÒæïÂ°Ô†['dirname'].»µÈgs('Â§á',9); $ØÂàõ°ÒÈî§°Ô†=$»µÈG['Â§á'][10]($∞©Áå°Ô´Èî°Ô†); $ΩΩÊî°ÔíÊö°Ò†+=$ØÂàõ°ÒÈî§°Ô†?$»µÈG['Â§á'][11]($»µÈG['Â§á'][12](»µÈgs('Â§á',13),$ØÂàõ°ÒÈî§°Ô†)):»µÈgs('Â§á',7); } } $µèÁÉ°ÒßÁª°Ò†[$Ö≥Ëß†]['domain_num']=$ΩΩÊî°ÔíÊö°Ò†; $µèÁÉ°ÒßÁª°Ò†[$Ö≥Ëß†]['theme_num']=»µÈgs('Â§á',7); if($∫ÖÊ∂°ÒßÂ∞°Ô†){foreach($∫ÖÊ∂°ÒßÂ∞°Ô† as $°•Ë¥°Ô¢Âè°Ô†=>$Ê∏äË°ÒæïÂ°Ô†){if(preg_match(»µÈgs('Â§á',14).$°∫ËØ°Ô¥Á°°Ô†['dirname'].»µÈgs('Â§á',15),$°•Ë¥°Ô¢Âè°Ô†)){$µèÁÉ°ÒßÁª°Ò†[$Ö≥Ëß†]['theme_num']++; } } } $µèÁÉ°ÒßÁª°Ò†[$Ö≥Ëß†]['theme_num']==»µÈgs('Â§á',7) && $µèÁÉ°ÒßÁª°Ò†[$Ö≥Ëß†]['theme_num']=»µÈgs('Â§á',16); $µèÁÉ°ÒßÁª°Ò†[$Ö≥Ëß†]['domain_num']==»µÈgs('Â§á',7) && $µèÁÉ°ÒßÁª°Ò†[$Ö≥Ëß†]['domain_num']=»µÈgs('Â§á',16); $µèÁÉ°ÒßÁª°Ò†[$Ö≥Ëß†]['urlrules']=$°∫ËØ°Ô¥Á°°Ô†['urlrules']?»µÈgs('Â§á',17).$»µÈG['Â§á'][18]($»µÈG['Â§á'][19]($»µÈG['Â§á'][20]($°∫ËØ°Ô¥Á°°Ô†['urlrules'])),»µÈgs('Â§á',21)):»µÈgs('Â§á',22); $µèÁÉ°ÒßÁª°Ò†[$Ö≥Ëß†]['collect_num']=$»µÈG['Â§á'][1](»µÈgs('Â§á',23))->$»µÈG_Â§á_5(»µÈgs('Â§á',24).$°∫ËØ°Ô¥Á°°Ô†['id'])->$»µÈG_Â§á_11(); } $ôÊ≥Ω°ÒË¥º°Ô†['list']=$µèÁÉ°ÒßÁª°Ò†; $this->$»µÈG_Â§á_25($ôÊ≥Ω°ÒË¥º°Ô†); $this->$»µÈG_Â§á_26(); } public function edit(){global $»µÈG;$»µÈG_Â§á_5=$»µÈG['Â§á'][5];$»µÈG_Â§á_29=$»µÈG['Â§á'][29];$»µÈG_Â§á_25=$»µÈG['Â§á'][25];$»µÈG_Â§á_26=$»µÈG['Â§á'][26];$ùèÊ¨†=isset($_GET['id'])?intval($_GET['id']):''; $Áõê‰°Ò∏•È°Ò†=isset($_GET['more'])?$»µÈG['Â§á'][27]($_GET['more']):»µÈgs('Â§á',7); if($ùèÊ¨†<>''){$µèÁÉ°ÒßÁª°Ò†=$this->†Â∫ì°ÒË£§°Ò†->$»µÈG_Â§á_5(»µÈgs('Â§á',28).$ùèÊ¨†)->$»µÈG_Â§á_29(); $µèÁÉ°ÒßÁª°Ò†['urlrules']=$»µÈG['Â§á'][20]($µèÁÉ°ÒßÁª°Ò†['urlrules']); if(!$µèÁÉ°ÒßÁª°Ò†['urlrules']){$µèÁÉ°ÒßÁª°Ò†['urlrules']=array( array('tplfile'=>»µÈgs('Â§á',31),'system'=>»µÈgs('Â§á',33)), array('tplfile'=>»µÈgs('Â§á',34),'system'=>»µÈgs('Â§á',33)), ); } }else{$µèÁÉ°ÒßÁª°Ò†['urlrules']=array( 'list'=>array('tplfile'=>»µÈgs('Â§á',31),'rules'=>»µÈgs('Â§á',36),'system'=>»µÈgs('Â§á',33)), 'show'=>array('tplfile'=>»µÈgs('Â§á',34),'rules'=>»µÈgs('Â§á',37),'system'=>»µÈgs('Â§á',33)), ); } if($µèÁÉ°ÒßÁª°Ò†['urlrules']){foreach($µèÁÉ°ÒßÁª°Ò†['urlrules'] as $Ö≥Ëß†=>$°∫ËØ°Ô¥Á°°Ô†){if($»µÈG['Â§á'][38]($°∫ËØ°Ô¥Á°°Ô†['tplfile'],array(»µÈgs('Â§á',22),»µÈgs('Â§á',31),»µÈgs('Â§á',34)))){$µèÁÉ°ÒßÁª°Ò†['urlrules'][$Ö≥Ëß†]['system']=»µÈgs('Â§á',33); } $µèÁÉ°ÒßÁª°Ò†['urlrules'][$Ö≥Ëß†]['rules']=$»µÈG['Â§á'][39](»µÈgs('Â§á',21),»µÈgs('Â§á',40),$°∫ËØ°Ô¥Á°°Ô†['rules']); } } $this->$»µÈG_Â§á_25(»µÈgs('Â§á',41),$Áõê‰°Ò∏•È°Ò†); $this->$»µÈG_Â§á_25($µèÁÉ°ÒßÁª°Ò†); if($Áõê‰°Ò∏•È°Ò†){$this->$»µÈG_Â§á_25(»µÈgs('Â§á',42),$¥Âùû†); $this->$»µÈG_Â§á_26(»µÈgs('Â§á',43)); }else{$this->$»µÈG_Â§á_26(); } } public function update(){$this->update_one(); } public function update_one(){global $»µÈG;$»µÈG_Â§á_45=$»µÈG['Â§á'][45];$»µÈG_Â§á_5=$»µÈG['Â§á'][5];$»µÈG_Â§á_29=$»µÈG['Â§á'][29];$»µÈG_Â§á_51=$»µÈG['Â§á'][51];$»µÈG_Â§á_55=$»µÈG['Â§á'][55];$»µÈG_Â§á_56=$»µÈG['Â§á'][56];$»µÈG_Â§á_57=$»µÈG['Â§á'][57];$È™áÈ†=$_POST['con']; foreach( $È™áÈ† as $Ö≥Ëß†=>$âÂè∑† ){$È™áÈ†[$Ö≥Ëß†]=ÈùôÈ°ÔïúÂ°Ò†111($»µÈG['Â§á'][44]($È™áÈ†[$Ö≥Ëß†])); } if($È™áÈ†['name']==''){$this->$»µÈG_Â§á_45(array('status'=>»µÈgs('Â§á',7),'info'=>»µÈgs('Â§á',48))); } if(!$È™áÈ†['id'] && $È™áÈ†['dirname']==''){$this->$»µÈG_Â§á_45(array('status'=>»µÈgs('Â§á',7),'info'=>»µÈgs('Â§á',49))); } $øÜ‰π°ÔâËØ°Ò†=$this->†Â∫ì°ÒË£§°Ò†->$»µÈG_Â§á_5(array('dirname'=>$È™áÈ†['dirname']))->$»µÈG_Â§á_29(); if($øÜ‰π°ÔâËØ°Ò†){if($È™áÈ†['id']!=$øÜ‰π°ÔâËØ°Ò†['id']){$this->$»µÈG_Â§á_51(»µÈgs('Â§á',52)); } } $ì≠Ë∞°Ô¨Ë∞°Ô†=$_POST['tplfile']; $Âº†Ê†=$_POST['urlrules']; $ÈáäÈ†=$_POST['system']; $Ë¥øÁ°ÔßΩ‰°Ò†=array(); foreach( $ì≠Ë∞°Ô¨Ë∞°Ô† as $Ö≥Ëß†=>$°∫ËØ°Ô¥Á°°Ô† ){$°∫ËØ°Ô¥Á°°Ô†=$»µÈG['Â§á'][44]($°∫ËØ°Ô¥Á°°Ô†); if($°∫ËØ°Ô¥Á°°Ô†==''){continue; } $Âº†Ê†[$Ö≥Ëß†]=$»µÈG['Â§á'][39](array(»µÈgs('Â§á',40),»µÈgs('Â§á',53),»µÈgs('Â§á',13)),»µÈgs('Â§á',21),$Âº†Ê†[$Ö≥Ëß†]); $Ë¥øÁ°ÔßΩ‰°Ò†[$°∫ËØ°Ô¥Á°°Ô†]=array('tplfile'=>$°∫ËØ°Ô¥Á°°Ô†,'rules'=>$Âº†Ê†[$Ö≥Ëß†],'system'=>$ÈáäÈ†[$Ö≥Ëß†]); } $È™áÈ†['urlrules']=$Ë¥øÁ°ÔßΩ‰°Ò†?$»µÈG['Â§á'][54]($Ë¥øÁ°ÔßΩ‰°Ò†):''; $ËØïÂ°ÒØøÂ°Ò†10=array(»µÈgs('Â§á',28).$È™áÈ†['id']); if($È™áÈ†['id']>»µÈgs('Â§á',7)){$µèÁÉ°ÒßÁª°Ò†=$this->†Â∫ì°ÒË£§°Ò†->$»µÈG_Â§á_5($ËØïÂ°ÒØøÂ°Ò†10)->$»µÈG_Â§á_55($È™áÈ†)->$»µÈG_Â§á_56(); }else{$µèÁÉ°ÒßÁª°Ò†=$this->†Â∫ì°ÒË£§°Ò†->$»µÈG_Â§á_55($È™áÈ†)->$»µÈG_Â§á_57(); foreach($»µÈG['Â§á'][58](»µÈgs('Â§á',59)) as $Ö≥Ëß†=>$°∫ËØ°Ô¥Á°°Ô†){$áØÈ¢°ÒóÂ£°Ô†=DATA_PATH.$Ö≥Ëß†.»µÈgs('Â§á',60).$È™áÈ†['dirname']; if(!$»µÈG['Â§á'][61]($áØÈ¢°ÒóÂ£°Ô†)){$»µÈG['Â§á'][62]($áØÈ¢°ÒóÂ£°Ô†,»µÈgs('Â§á',63),»µÈgs('Â§á',64)); } } } if($µèÁÉ°ÒßÁª°Ò†){$this->$»µÈG_Â§á_45(array('status'=>»µÈgs('Â§á',33))); }else{$this->$»µÈG_Â§á_45(array('status'=>»µÈgs('Â§á',7),'info'=>»µÈgs('Â§á',65))); } } public function del(){global $»µÈG;$»µÈG_Â§á_5=$»µÈG['Â§á'][5];$»µÈG_Â§á_66=$»µÈG['Â§á'][66];$»µÈG_Â§á_51=$»µÈG['Â§á'][51];$»µÈG_Â§á_68=$»µÈG['Â§á'][68];$ùèÊ¨†=isset($_GET['id'])?intval($_GET['id']):$this->error('id ‰∏çËÉΩ‰∏∫Á©∫'); $µèÁÉ°ÒßÁª°Ò†=$this->†Â∫ì°ÒË£§°Ò†->$»µÈG_Â§á_5(»µÈgs('Â§á',28).$ùèÊ¨†)->$»µÈG_Â§á_66(); if(!$µèÁÉ°ÒßÁª°Ò†) $this->$»µÈG_Â§á_51(»µÈgs('Â§á',67)); $this->$»µÈG_Â§á_68(»µÈgs('Â§á',69),$»µÈG['Â§á'][70](»µÈgs('Â§á',71))); } public function tplrules(){global $»µÈG;$»µÈG_Â§á_3=$»µÈG['Â§á'][3];$»µÈG_Â§á_25=$»µÈG['Â§á'][25];$»µÈG_Â§á_26=$»µÈG['Â§á'][26];$™ËΩ∞°ÒÈ∏ø°Ò†=$this->_get('type'); $¢§Âú°Ò∫Â∞°Ò†=$»µÈG['Â§á'][1](»µÈgs('Â§á',2))->$»µÈG_Â§á_3(); foreach($¢§Âú°Ò∫Â∞°Ò† as $Ö≥Ëß†=>$°∫ËØ°Ô¥Á°°Ô†){$ΩÈöè†=TEMP_PATH.»µÈgs('Â§á',72).$°∫ËØ°Ô¥Á°°Ô†['dirname']; $¢§Âú°Ò∫Â∞°Ò†[$Ö≥Ëß†]['isset']=»µÈgs('Â§á',73); if($»µÈG['Â§á'][74]($ΩÈöè†.»µÈgs('Â§á',75)) || $»µÈG['Â§á'][74]($ΩÈöè†.»µÈgs('Â§á',76)) || $»µÈG['Â§á'][74]($ΩÈöè†.»µÈgs('Â§á',77))){$¢§Âú°Ò∫Â∞°Ò†[$Ö≥Ëß†]['isset']=»µÈgs('Â§á',64); } } $this->$»µÈG_Â§á_25(»µÈgs('Â§á',78),$™ËΩ∞°ÒÈ∏ø°Ò†); $this->$»µÈG_Â§á_25(»µÈgs('Â§á',79),$¢§Âú°Ò∫Â∞°Ò†); $this->$»µÈG_Â§á_25(»µÈgs('Â§á',31),$ª•Â≤†); $this->$»µÈG_Â§á_26(); } public function tplrules_edit(){global $»µÈG;$»µÈG_Â§á_5=$»µÈG['Â§á'][5];$»µÈG_Â§á_29=$»µÈG['Â§á'][29];$»µÈG_Â§á_25=$»µÈG['Â§á'][25];$»µÈG_Â§á_26=$»µÈG['Â§á'][26];$Ëø≠Ë°Ò∞çÂ°Ò†=$this->_get('dir'); $Ëø≠Ë°Ò∞çÂ°Ò†=$»µÈG['Â§á'][39](»µÈgs('Â§á',80),'',$Ëø≠Ë°Ò∞çÂ°Ò†); $¢§Âú°Ò∫Â∞°Ò†=$»µÈG['Â§á'][1](»µÈgs('Â§á',2))->$»µÈG_Â§á_5(»µÈgs('Â§á',81).$Ëø≠Ë°Ò∞çÂ°Ò†)->$»µÈG_Â§á_29(); if(!$¢§Âú°Ò∫Â∞°Ò†){$Âº†Ê†=array('index'=>'','list'=>'','show'=>''); }else{$Âº†Ê†=$»µÈG['Â§á'][20]($¢§Âú°Ò∫Â∞°Ò†['urlrules']); } $ôÊ≥Ω°ÒË¥º°Ô†=$ûÊä¨°ÒÊÄÅ°Ò†11=$‰∏úÂ°Òä®Ê°Ò†=$Æ∞Èô°ÔÖÁª°Ô†=array(); $ΩÈöè†=TEMP_PATH.»µÈgs('Â§á',72).$Ëø≠Ë°Ò∞çÂ°Ò†; if(!$»µÈG['Â§á'][61]($ΩÈöè†)){$ΩÈöè†=TEMP_PATH.»µÈgs('Â§á',82); } $ûÊä¨°ÒÊÄÅ°Ò†11['index']=@$»µÈG['Â§á'][10]($ΩÈöè†.»µÈgs('Â§á',75)); $ºÜÁÉ†['index']=@$»µÈG['Â§á'][10]($ΩÈöè†.»µÈgs('Â§á',83)); $Æ∞Èô°ÔÖÁª°Ô†['index']=@$»µÈG['Â§á'][10]($ΩÈöè†.»µÈgs('Â§á',76)); foreach($Âº†Ê† as $Ö≥Ëß†=>$°∫ËØ°Ô¥Á°°Ô†){$ÖÂÆ°°ÔÂ©∂°Ò†=$ΩÈöè†.»µÈgs('Â§á',84).$Ö≥Ëß†.»µÈgs('Â§á',85); $È∏üË°ÒÅÇÂ°Ò†=$ΩÈöè†.»µÈgs('Â§á',86).$Ö≥Ëß†.»µÈgs('Â§á',85); $ÅøËÇ°Ô†Âé°Ô†12=$ΩÈöè†.»µÈgs('Â§á',87).$Ö≥Ëß†.»µÈgs('Â§á',85); $ûÊä¨°ÒÊÄÅ°Ò†11[$Ö≥Ëß†]=$»µÈG['Â§á'][74]($ÖÂÆ°°ÔÂ©∂°Ò†)?$»µÈG['Â§á'][10]($ÖÂÆ°°ÔÂ©∂°Ò†):''; $ºÜÁÉ†[$Ö≥Ëß†]=$»µÈG['Â§á'][74]($È∏üË°ÒÅÇÂ°Ò†)?$»µÈG['Â§á'][10]($È∏üË°ÒÅÇÂ°Ò†):''; $Æ∞Èô°ÔÖÁª°Ô†[$Ö≥Ëß†]=$»µÈG['Â§á'][74]($ÅøËÇ°Ô†Âé°Ô†12)?$»µÈG['Â§á'][10]($ÅøËÇ°Ô†Âé°Ô†12):''; } $ôÊ≥Ω°ÒË¥º°Ô†['dirname']=$Ëø≠Ë°Ò∞çÂ°Ò†; $ôÊ≥Ω°ÒË¥º°Ô†['titletpls']=$ûÊä¨°ÒÊÄÅ°Ò†11; $ôÊ≥Ω°ÒË¥º°Ô†['kwtpls']=$ºÜÁÉ†; $ôÊ≥Ω°ÒË¥º°Ô†['desctpls']=$Æ∞Èô°ÔÖÁª°Ô†; $ôÊ≥Ω°ÒË¥º°Ô†['bodytpls']=@$»µÈG['Â§á'][10]($ΩÈöè†.»µÈgs('Â§á',77)); if($ôÊ≥Ω°ÒË¥º°Ô†['bodytpls']){$ôÊ≥Ω°ÒË¥º°Ô†['bodytpls']=@$»µÈG['Â§á'][12](»µÈgs('Â§á',88),$ôÊ≥Ω°ÒË¥º°Ô†['bodytpls']); } $this->$»µÈG_Â§á_25($ôÊ≥Ω°ÒË¥º°Ô†); $this->$»µÈG_Â§á_26(); } public function update_tplrules(){global $»µÈG;$»µÈG_Â§á_5=$»µÈG['Â§á'][5];$»µÈG_Â§á_29=$»µÈG['Â§á'][29];$»µÈG_Â§á_68=$»µÈG['Â§á'][68];$Ëø≠Ë°Ò∞çÂ°Ò†=$this->_get('dir'); $Ëø≠Ë°Ò∞çÂ°Ò†=$»µÈG['Â§á'][39](»µÈgs('Â§á',80),'',$Ëø≠Ë°Ò∞çÂ°Ò†); $¢§Âú°Ò∫Â∞°Ò†=$»µÈG['Â§á'][1](»µÈgs('Â§á',2))->$»µÈG_Â§á_5(»µÈgs('Â§á',81).$Ëø≠Ë°Ò∞çÂ°Ò†)->$»µÈG_Â§á_29(); if(!$¢§Âú°Ò∫Â∞°Ò†){$Âº†Ê†=array('index'=>'','list'=>'','show'=>''); }else{$Âº†Ê†=$»µÈG['Â§á'][20]($¢§Âú°Ò∫Â∞°Ò†['urlrules']); } $Âº†Ê†['index']=''; $ΩÈöè†=TEMP_PATH.»µÈgs('Â§á',72).$Ëø≠Ë°Ò∞çÂ°Ò†; foreach($Âº†Ê† as $Ö≥Ëß†=>$°∫ËØ°Ô¥Á°°Ô†){$ÖÂÆ°°ÔÂ©∂°Ò†=$ΩÈöè†.»µÈgs('Â§á',84).$Ö≥Ëß†.»µÈgs('Â§á',85); $È∏üË°ÒÅÇÂ°Ò†=$ΩÈöè†.»µÈgs('Â§á',86).$Ö≥Ëß†.»µÈgs('Â§á',85); $ÅøËÇ°Ô†Âé°Ô†12=$ΩÈöè†.»µÈgs('Â§á',87).$Ö≥Ëß†.»µÈgs('Â§á',85); $øûÈï°Ò∞ÊÄ°Ô†=ÈùôÈ°ÔïúÂ°Ò†111($»µÈG['Â§á'][44]($_POST['titletpl'][$Ö≥Ëß†])); $»µÈG['Â§á'][89]($ÖÂÆ°°ÔÂ©∂°Ò†,$øûÈï°Ò∞ÊÄ°Ô†); $ÁØ±Á†=ÈùôÈ°ÔïúÂ°Ò†111($»µÈG['Â§á'][44]($_POST['kwtpl'][$Ö≥Ëß†])); $»µÈG['Â§á'][89]($È∏üË°ÒÅÇÂ°Ò†,$ÁØ±Á†); $Êé∏Ë°ÔÉÜÊ°Ò†=ÈùôÈ°ÔïúÂ°Ò†111($»µÈG['Â§á'][44]($_POST['desctpl'][$Ö≥Ëß†])); $»µÈG['Â§á'][89]($ÅøËÇ°Ô†Âé°Ô†12,$Êé∏Ë°ÔÉÜÊ°Ò†); } $î§Á∫†=$_POST['bodytpls']; $î§Á∫†=$»µÈG['Â§á'][90]($î§Á∫†); foreach($î§Á∫† as $Ö≥Ëß†=>$°∫ËØ°Ô¥Á°°Ô† ){if($»µÈG['Â§á'][44]($°∫ËØ°Ô¥Á°°Ô†)==''){unset($î§Á∫†[$Ö≥Ëß†]);continue; } $î§Á∫†[$Ö≥Ëß†]=ÈùôÈ°ÔïúÂ°Ò†111($°∫ËØ°Ô¥Á°°Ô†); } $ôÊ≥Ω°ÒË¥º°Ô†=$»µÈG['Â§á'][18](»µÈgs('Â§á',88),$î§Á∫†); $‰ºü‰†=$ΩÈöè†.»µÈgs('Â§á',77); $»µÈG['Â§á'][89]($‰ºü‰†,$ôÊ≥Ω°ÒË¥º°Ô†); $this->$»µÈG_Â§á_68(»µÈgs('Â§á',91)); } public function tplrules_del(){global $»µÈG;$»µÈG_Â§á_68=$»µÈG['Â§á'][68];$»µÈG_Â§á_51=$»µÈG['Â§á'][51];$Ëø≠Ë°Ò∞çÂ°Ò†=$this->_get('dir'); $Ëø≠Ë°Ò∞çÂ°Ò†=$»µÈG['Â§á'][39](»µÈgs('Â§á',80),'',$Ëø≠Ë°Ò∞çÂ°Ò†); $ôÊ≥Ω°ÒË¥º°Ô†=array(); $ΩÈöè†=TEMP_PATH.»µÈgs('Â§á',72).$Ëø≠Ë°Ò∞çÂ°Ò†; if(∑ÉÈí°Ô•Â≤°Ò†113($ΩÈöè†)){$this->$»µÈG_Â§á_68(»µÈgs('Â§á',69)); }else{$this->$»µÈG_Â§á_51(»µÈgs('Â§á',67)); } } public function import(){global $»µÈG;$»µÈG_Â§á_5=$»µÈG['Â§á'][5];$»µÈG_Â§á_55=$»µÈG['Â§á'][55];$»µÈG_Â§á_56=$»µÈG['Â§á'][56];$»µÈG_Â§á_29=$»µÈG['Â§á'][29];$»µÈG_Â§á_57=$»µÈG['Â§á'][57];$»µÈG_Â§á_68=$»µÈG['Â§á'][68];$»µÈG_Â§á_51=$»µÈG['Â§á'][51];$»µÈG_Â§á_3=$»µÈG['Â§á'][3];$»µÈG_Â§á_25=$»µÈG['Â§á'][25];$»µÈG_Â§á_26=$»µÈG['Â§á'][26];if(IS_POST){$ôÊ≥Ω°ÒË¥º°Ô†=$ÁªßÁ†=array(); $ùèÊ¨†=(int)$_POST['id']; $ßËÆ§†=$_POST['code']; $ßËÆ§†=ÈùôÈ°ÔïúÂ°Ò†111($ßËÆ§†); $ßËÆ§†=$»µÈG['Â§á'][39](array(»µÈgs('Â§á',92),»µÈgs('Â§á',93)),'',$ßËÆ§†); $ôÊ≥Ω°ÒË¥º°Ô†=$»µÈG['Â§á'][20]($»µÈG['Â§á'][94]($ßËÆ§†)); if($ôÊ≥Ω°ÒË¥º°Ô†){$ôÊ≥Ω°ÒË¥º°Ô†['addtime']=$»µÈG['Â§á'][95](); if($ùèÊ¨†){$ôÊ≥Ω°ÒË¥º°Ô†['id']=$ùèÊ¨†; $ËØïÂ°ÒØøÂ°Ò†10=array(»µÈgs('Â§á',28).$ôÊ≥Ω°ÒË¥º°Ô†['id']); $µèÁÉ°ÒßÁª°Ò†=$this->†Â∫ì°ÒË£§°Ò†->$»µÈG_Â§á_5($ËØïÂ°ÒØøÂ°Ò†10)->$»µÈG_Â§á_55($ôÊ≥Ω°ÒË¥º°Ô†)->$»µÈG_Â§á_56(); }else{$µèÁÉ°ÒßÁª°Ò†=$this->†Â∫ì°ÒË£§°Ò†->$»µÈG_Â§á_5(»µÈgs('Â§á',81).$ôÊ≥Ω°ÒË¥º°Ô†['dirname'])->$»µÈG_Â§á_29(); if($µèÁÉ°ÒßÁª°Ò†){$ôÊ≥Ω°ÒË¥º°Ô†['dirname'].=»µÈgs('Â§á',96); } $µèÁÉ°ÒßÁª°Ò†=$this->†Â∫ì°ÒË£§°Ò†->$»µÈG_Â§á_55($ôÊ≥Ω°ÒË¥º°Ô†)->$»µÈG_Â§á_57(); } if($µèÁÉ°ÒßÁª°Ò†){$this->$»µÈG_Â§á_68(»µÈgs('Â§á',97),$»µÈG['Â§á'][70](»µÈgs('Â§á',71))); }else{$this->$»µÈG_Â§á_51(»µÈgs('Â§á',98)); } }else{$this->$»µÈG_Â§á_51(»µÈgs('Â§á',99)); } }else{$¢§Âú°Ò∫Â∞°Ò†=$»µÈG['Â§á'][1](»µÈgs('Â§á',2))->$»µÈG_Â§á_3(); $ùèÊ¨†=(int)$_GET['id']; if($¢§Âú°Ò∫Â∞°Ò†){$ËÄªÈ†=ËÆ∞È°ÔôÖÁ°Ò†($¢§Âú°Ò∫Â∞°Ò†,»µÈgs('Â§á',7),$ùèÊ¨†); } $this->$»µÈG_Â§á_25(»µÈgs('Â§á',100),$ËÄªÈ†); $this->$»µÈG_Â§á_26(); } } public function export(){global $»µÈG;$»µÈG_Â§á_5=$»µÈG['Â§á'][5];$»µÈG_Â§á_29=$»µÈG['Â§á'][29];$»µÈG_Â§á_25=$»µÈG['Â§á'][25];$»µÈG_Â§á_26=$»µÈG['Â§á'][26];$ùèÊ¨†=isset($_GET['id'])?intval($_GET['id']):$this->error('id ‰∏çËÉΩ‰∏∫Á©∫'); $µèÁÉ°ÒßÁª°Ò†=$this->†Â∫ì°ÒË£§°Ò†->$»µÈG_Â§á_5(»µÈgs('Â§á',28).$ùèÊ¨†)->$»µÈG_Â§á_29(); if($µèÁÉ°ÒßÁª°Ò†){foreach($µèÁÉ°ÒßÁª°Ò† as $Ö≥Ëß†=>$°∫ËØ°Ô¥Á°°Ô†){if(preg_match(»µÈgs('Â§á',101),$Ö≥Ëß†)) unset($µèÁÉ°ÒßÁª°Ò†[$Ö≥Ëß†]); } $ÅæËΩ°ÔΩÊî°Ô†=$µèÁÉ°ÒßÁª°Ò†; $ÁñØÂ°ÒÜØÁ°Ô†=array(»µÈgs('Â§á',102)); foreach($ÁñØÂ°ÒÜØÁ°Ô† as $Ö≥Ëß†=>$°∫ËØ°Ô¥Á°°Ô†){if(isset($ÅæËΩ°ÔΩÊî°Ô†[$°∫ËØ°Ô¥Á°°Ô†])) unset($ÅæËΩ°ÔΩÊî°Ô†[$°∫ËØ°Ô¥Á°°Ô†]); } $ßËÆ§†=»µÈgs('Â§á',92).$»µÈG['Â§á'][103]($»µÈG['Â§á'][54]($ÅæËΩ°ÔΩÊî°Ô†)).»µÈgs('Â§á',93); $this->$»µÈG_Â§á_25($µèÁÉ°ÒßÁª°Ò†); $this->$»µÈG_Â§á_25(array('code'=>$ßËÆ§†)); } $this->$»µÈG_Â§á_26(); } }