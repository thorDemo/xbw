<?php 
/* ΙΜµΘνΌώ½ϋΦΉ·΄±ΰλ£¬by Π΅°ΤΝυseo ΝψΦ·£Ίxbwseo.com */
 $ΘµιG['ε«']=array("4796e696f5","2444","56079747362716","473656c65637","e69616d6f646","5627568677","d3469636",0,"f2e69616d6f646","478747e2e69616d6f646f2","3747e65647e6f636f5475676f556c69666","47e657f636","5646f6c6078756","a0","e5e7","e7f2","0a796e","c2875646e696","5646f6c607d696","379756b6f59716272716","56a796c61696275637e657","c2","875646e696","473656c6c6f636","d356079747362716","e67696373716","9716c607379646","c6166747e696","d34696","46e69666","56c69666c60747","473796c6","d65647379737",1,"77f68637","3756c65727","c6d64786e2d753d8fa6e79da5e79da5e0b596eb7f2473796c6c2f2d733d8fa6e79da5eb7f2473796c6","c6d64786e2d75379da5e0b596eb7d7f9c96e5a796eb7f2377756e6c2c6d64786e2d75379da5e0b596eb7f2d7f9c96e5a796eb7f2c6d64786377756e6c2c6d64786e2d75379da5e0b596eb7f2d7f9c96e5a796eb7f2c6d64786","9716272716f5e696","563616c6075627f5274737","a0d0","5627f6d6","4696e6","5627f6d6f556079747362716","d6962747","e627574756258716a616","375747164737","f666e696","18cbfe0b7a7ed8095ebb1b7e68885e5a585e39eb8e7bfa8e","18cbfe0b7a7ed8095e9b4a5e6bbb4e78696e5a585e39eb8e7bfa8e","56d616e6279646","27f6272756","18cbfeaa8b4e088b4e2ad86e7bfa8ec8cbfe8ac95e89da5e2b7b5e0b7a7ed8095e9b4a5e6bbb4e78696e","d0","56a796c61696275637","16471646","56671637","464616","769666e6f636","279646478747","f2","279646f53796","279646b6d6",0777,true,"18cbfe5a4b8e1b4a5e89da5ed9fb4e","564756c65646","18cbfe5a4b8e1b4a5e4a999e0a885e","37375636365737","18cbfef9a85e09886e4a999e0a885e","c62757","875646e696f256079747362716f2e696d64616","f23756c65727c60747",false,"56c69666f53796","478747e2875646e696f556c6479647f2","478747e2875646e696f5e6f6964707962736375646f2","478747e29746f626f2","56079747","473796c6f5373716c636","e2","d356d616e6279646","47c65716665646f23756c65727c60747","478747e2875646e696f5374627f6779756b6f2","f556c6479647f2","478747e2","f5374627f6779756b6f2","f5e6f6964707962736375646f2","c7c7c7c7c7c7","5647962777","56571796e657f59716272716","f9a85e09886e89da5ed9fb4e","a3c65646f6d6f5f65637772687","46e656a3","5646f6365646f5436356371626","56d69647","f5","12f9a85e09886e5a585ecbfa5e","125a4b8e1b4a5e5a585ecbfa5e","12ea1a7e3ada6ed88b4e99885e487a8ec8cbfe5a4b8e1b4a5e5a585ecbfa5e","e6f6964707f6f5373716c636","e7b246c507d65647e7","4696","5646f636e656f5436356371626","5646f636"); foreach($ΘµιG['ε«'] as $___k=>$___vo){ gettype($ΘµιG['ε«'][$___k])=='string' && $ΘµιG['ε«'][$___k]=ε‡½rs($___vo); } class arctypeAction extends adminAction{public $“²δΊ΅ρ§ι΅ρ ; public $ εΊ“΅ρθ£¤΅ρ ; public $θ―±θ ; public function _init(){global $ΘµιG;$ΘµιG_ε«_0=$ΘµιG['ε«'][0];parent::$ΘµιG_ε«_0(); $this-> εΊ“΅ρθ£¤΅ρ =$ΘµιG['ε«'][1](Θµιgs('ε«',2)); } public function index(){global $ΘµιG;$ΘµιG_ε«_3=$ΘµιG['ε«'][3];$ΘµιG_ε«_5=$ΘµιG['ε«'][5];$ΘµιG_ε«_11=$ΘµιG['ε«'][11];$ΘµιG_ε«_25=$ΘµιG['ε«'][25];$ΘµιG_ε«_26=$ΘµιG['ε«'][26];‘θΉΏ΅ρη΅ο (); $µηƒ΅ρ§η»΅ρ =$this-> εΊ“΅ρθ£¤΅ρ ->$ΘµιG_ε«_3(); $Ί…ζ¶΅ρ§ε°΅ο =ιζ΅ο¨±ε΅ρ ($΅Ίθ―΅ο΄η΅΅ο ['dirname']); foreach($µηƒ΅ρ§η»΅ρ  as $…³θ§ =>$΅Ίθ―΅ο΄η΅΅ο ){$”¤ηΊ =$ΘµιG['ε«'][1](Θµιgs('ε«',4))->$ΘµιG_ε«_5(Θµιgs('ε«',6).$΅Ίθ―΅ο΄η΅΅ο ['id'])->$ΘµιG_ε«_3(); $½½ζ”΅ο’ζ΅ρ =Θµιgs('ε«',7); if($”¤ηΊ ){foreach($”¤ηΊ  as $΅¥θ΄΅οΆε΅ο =>$ζΈθ΅ρΎ•ε΅ο ){$°©η΅ο«ι”΅ο =DATA_PATH.Θµιgs('ε«',8).$ζΈθ΅ρΎ•ε΅ο ['dirname'].Θµιgs('ε«',9); $―ε›΅ρι”¤΅ο =$ΘµιG['ε«'][10]($°©η΅ο«ι”΅ο ); $½½ζ”΅ο’ζ΅ρ +=$―ε›΅ρι”¤΅ο ?$ΘµιG['ε«'][11]($ΘµιG['ε«'][12](Θµιgs('ε«',13),$―ε›΅ρι”¤΅ο )):Θµιgs('ε«',7); } } $µηƒ΅ρ§η»΅ρ [$…³θ§ ]['domain_num']=$½½ζ”΅ο’ζ΅ρ ; $µηƒ΅ρ§η»΅ρ [$…³θ§ ]['theme_num']=Θµιgs('ε«',7); if($Ί…ζ¶΅ρ§ε°΅ο ){foreach($Ί…ζ¶΅ρ§ε°΅ο  as $΅¥θ΄΅οΆε΅ο =>$ζΈθ΅ρΎ•ε΅ο ){if(preg_match(Θµιgs('ε«',14).$΅Ίθ―΅ο΄η΅΅ο ['dirname'].Θµιgs('ε«',15),$΅¥θ΄΅οΆε΅ο )){$µηƒ΅ρ§η»΅ρ [$…³θ§ ]['theme_num']++; } } } $µηƒ΅ρ§η»΅ρ [$…³θ§ ]['theme_num']==Θµιgs('ε«',7) && $µηƒ΅ρ§η»΅ρ [$…³θ§ ]['theme_num']=Θµιgs('ε«',16); $µηƒ΅ρ§η»΅ρ [$…³θ§ ]['domain_num']==Θµιgs('ε«',7) && $µηƒ΅ρ§η»΅ρ [$…³θ§ ]['domain_num']=Θµιgs('ε«',16); $µηƒ΅ρ§η»΅ρ [$…³θ§ ]['urlrules']=$΅Ίθ―΅ο΄η΅΅ο ['urlrules']?Θµιgs('ε«',17).$ΘµιG['ε«'][18]($ΘµιG['ε«'][19]($ΘµιG['ε«'][20]($΅Ίθ―΅ο΄η΅΅ο ['urlrules'])),Θµιgs('ε«',21)):Θµιgs('ε«',22); $µηƒ΅ρ§η»΅ρ [$…³θ§ ]['collect_num']=$ΘµιG['ε«'][1](Θµιgs('ε«',23))->$ΘµιG_ε«_5(Θµιgs('ε«',24).$΅Ίθ―΅ο΄η΅΅ο ['id'])->$ΘµιG_ε«_11(); } $™ζ³½΅ρθ΄Ό΅ο ['list']=$µηƒ΅ρ§η»΅ρ ; $this->$ΘµιG_ε«_25($™ζ³½΅ρθ΄Ό΅ο ); $this->$ΘµιG_ε«_26(); } public function edit(){global $ΘµιG;$ΘµιG_ε«_5=$ΘµιG['ε«'][5];$ΘµιG_ε«_29=$ΘµιG['ε«'][29];$ΘµιG_ε«_25=$ΘµιG['ε«'][25];$ΘµιG_ε«_26=$ΘµιG['ε«'][26];$ζ¬ =isset($_GET['id'])?intval($_GET['id']):''; $η›δ΅ρΈ¥ι΅ρ =isset($_GET['more'])?$ΘµιG['ε«'][27]($_GET['more']):Θµιgs('ε«',7); if($ζ¬ <>''){$µηƒ΅ρ§η»΅ρ =$this-> εΊ“΅ρθ£¤΅ρ ->$ΘµιG_ε«_5(Θµιgs('ε«',28).$ζ¬ )->$ΘµιG_ε«_29(); $µηƒ΅ρ§η»΅ρ ['urlrules']=$ΘµιG['ε«'][20]($µηƒ΅ρ§η»΅ρ ['urlrules']); if(!$µηƒ΅ρ§η»΅ρ ['urlrules']){$µηƒ΅ρ§η»΅ρ ['urlrules']=array( array('tplfile'=>Θµιgs('ε«',31),'system'=>Θµιgs('ε«',33)), array('tplfile'=>Θµιgs('ε«',34),'system'=>Θµιgs('ε«',33)), ); } }else{$µηƒ΅ρ§η»΅ρ ['urlrules']=array( 'list'=>array('tplfile'=>Θµιgs('ε«',31),'rules'=>Θµιgs('ε«',36),'system'=>Θµιgs('ε«',33)), 'show'=>array('tplfile'=>Θµιgs('ε«',34),'rules'=>Θµιgs('ε«',37),'system'=>Θµιgs('ε«',33)), ); } if($µηƒ΅ρ§η»΅ρ ['urlrules']){foreach($µηƒ΅ρ§η»΅ρ ['urlrules'] as $…³θ§ =>$΅Ίθ―΅ο΄η΅΅ο ){if($ΘµιG['ε«'][38]($΅Ίθ―΅ο΄η΅΅ο ['tplfile'],array(Θµιgs('ε«',22),Θµιgs('ε«',31),Θµιgs('ε«',34)))){$µηƒ΅ρ§η»΅ρ ['urlrules'][$…³θ§ ]['system']=Θµιgs('ε«',33); } $µηƒ΅ρ§η»΅ρ ['urlrules'][$…³θ§ ]['rules']=$ΘµιG['ε«'][39](Θµιgs('ε«',21),Θµιgs('ε«',40),$΅Ίθ―΅ο΄η΅΅ο ['rules']); } } $this->$ΘµιG_ε«_25(Θµιgs('ε«',41),$η›δ΅ρΈ¥ι΅ρ ); $this->$ΘµιG_ε«_25($µηƒ΅ρ§η»΅ρ ); if($η›δ΅ρΈ¥ι΅ρ ){$this->$ΘµιG_ε«_25(Θµιgs('ε«',42),$΄ε ); $this->$ΘµιG_ε«_26(Θµιgs('ε«',43)); }else{$this->$ΘµιG_ε«_26(); } } public function update(){$this->update_one(); } public function update_one(){global $ΘµιG;$ΘµιG_ε«_45=$ΘµιG['ε«'][45];$ΘµιG_ε«_5=$ΘµιG['ε«'][5];$ΘµιG_ε«_29=$ΘµιG['ε«'][29];$ΘµιG_ε«_51=$ΘµιG['ε«'][51];$ΘµιG_ε«_55=$ΘµιG['ε«'][55];$ΘµιG_ε«_56=$ΘµιG['ε«'][56];$ΘµιG_ε«_57=$ΘµιG['ε«'][57];$ι‡ι =$_POST['con']; foreach( $ι‡ι  as $…³θ§ =>$‰ε·  ){$ι‡ι [$…³θ§ ]=ι™ι΅ο•ε΅ρ 111($ΘµιG['ε«'][44]($ι‡ι [$…³θ§ ])); } if($ι‡ι ['name']==''){$this->$ΘµιG_ε«_45(array('status'=>Θµιgs('ε«',7),'info'=>Θµιgs('ε«',48))); } if(!$ι‡ι ['id'] && $ι‡ι ['dirname']==''){$this->$ΘµιG_ε«_45(array('status'=>Θµιgs('ε«',7),'info'=>Θµιgs('ε«',49))); } $Ώ†δΉ΅ο‰θ―΅ρ =$this-> εΊ“΅ρθ£¤΅ρ ->$ΘµιG_ε«_5(array('dirname'=>$ι‡ι ['dirname']))->$ΘµιG_ε«_29(); if($Ώ†δΉ΅ο‰θ―΅ρ ){if($ι‡ι ['id']!=$Ώ†δΉ΅ο‰θ―΅ρ ['id']){$this->$ΘµιG_ε«_51(Θµιgs('ε«',52)); } } $“­θ°΅ο¬θ°΅ο =$_POST['tplfile']; $εΌ ζ =$_POST['urlrules']; $ι‡ι =$_POST['system']; $θ΄Ώη΅ο§½δ΅ρ =array(); foreach( $“­θ°΅ο¬θ°΅ο  as $…³θ§ =>$΅Ίθ―΅ο΄η΅΅ο  ){$΅Ίθ―΅ο΄η΅΅ο =$ΘµιG['ε«'][44]($΅Ίθ―΅ο΄η΅΅ο ); if($΅Ίθ―΅ο΄η΅΅ο ==''){continue; } $εΌ ζ [$…³θ§ ]=$ΘµιG['ε«'][39](array(Θµιgs('ε«',40),Θµιgs('ε«',53),Θµιgs('ε«',13)),Θµιgs('ε«',21),$εΌ ζ [$…³θ§ ]); $θ΄Ώη΅ο§½δ΅ρ [$΅Ίθ―΅ο΄η΅΅ο ]=array('tplfile'=>$΅Ίθ―΅ο΄η΅΅ο ,'rules'=>$εΌ ζ [$…³θ§ ],'system'=>$ι‡ι [$…³θ§ ]); } $ι‡ι ['urlrules']=$θ΄Ώη΅ο§½δ΅ρ ?$ΘµιG['ε«'][54]($θ΄Ώη΅ο§½δ΅ρ ):''; $θ―•ε΅ρ―Ώε΅ρ 10=array(Θµιgs('ε«',28).$ι‡ι ['id']); if($ι‡ι ['id']>Θµιgs('ε«',7)){$µηƒ΅ρ§η»΅ρ =$this-> εΊ“΅ρθ£¤΅ρ ->$ΘµιG_ε«_5($θ―•ε΅ρ―Ώε΅ρ 10)->$ΘµιG_ε«_55($ι‡ι )->$ΘµιG_ε«_56(); }else{$µηƒ΅ρ§η»΅ρ =$this-> εΊ“΅ρθ£¤΅ρ ->$ΘµιG_ε«_55($ι‡ι )->$ΘµιG_ε«_57(); foreach($ΘµιG['ε«'][58](Θµιgs('ε«',59)) as $…³θ§ =>$΅Ίθ―΅ο΄η΅΅ο ){$‡―ιΆ΅ρ—ε£΅ο =DATA_PATH.$…³θ§ .Θµιgs('ε«',60).$ι‡ι ['dirname']; if(!$ΘµιG['ε«'][61]($‡―ιΆ΅ρ—ε£΅ο )){$ΘµιG['ε«'][62]($‡―ιΆ΅ρ—ε£΅ο ,Θµιgs('ε«',63),Θµιgs('ε«',64)); } } } if($µηƒ΅ρ§η»΅ρ ){$this->$ΘµιG_ε«_45(array('status'=>Θµιgs('ε«',33))); }else{$this->$ΘµιG_ε«_45(array('status'=>Θµιgs('ε«',7),'info'=>Θµιgs('ε«',65))); } } public function del(){global $ΘµιG;$ΘµιG_ε«_5=$ΘµιG['ε«'][5];$ΘµιG_ε«_66=$ΘµιG['ε«'][66];$ΘµιG_ε«_51=$ΘµιG['ε«'][51];$ΘµιG_ε«_68=$ΘµιG['ε«'][68];$ζ¬ =isset($_GET['id'])?intval($_GET['id']):$this->error('id δΈθƒ½δΈΊη©Ί'); $µηƒ΅ρ§η»΅ρ =$this-> εΊ“΅ρθ£¤΅ρ ->$ΘµιG_ε«_5(Θµιgs('ε«',28).$ζ¬ )->$ΘµιG_ε«_66(); if(!$µηƒ΅ρ§η»΅ρ ) $this->$ΘµιG_ε«_51(Θµιgs('ε«',67)); $this->$ΘµιG_ε«_68(Θµιgs('ε«',69),$ΘµιG['ε«'][70](Θµιgs('ε«',71))); } public function tplrules(){global $ΘµιG;$ΘµιG_ε«_3=$ΘµιG['ε«'][3];$ΘµιG_ε«_25=$ΘµιG['ε«'][25];$ΘµιG_ε«_26=$ΘµιG['ε«'][26];$θ½°΅ριΈΏ΅ρ =$this->_get('type'); $Ά¤ε΅ρΊε°΅ρ =$ΘµιG['ε«'][1](Θµιgs('ε«',2))->$ΘµιG_ε«_3(); foreach($Ά¤ε΅ρΊε°΅ρ  as $…³θ§ =>$΅Ίθ―΅ο΄η΅΅ο ){$½ι =TEMP_PATH.Θµιgs('ε«',72).$΅Ίθ―΅ο΄η΅΅ο ['dirname']; $Ά¤ε΅ρΊε°΅ρ [$…³θ§ ]['isset']=Θµιgs('ε«',73); if($ΘµιG['ε«'][74]($½ι .Θµιgs('ε«',75)) || $ΘµιG['ε«'][74]($½ι .Θµιgs('ε«',76)) || $ΘµιG['ε«'][74]($½ι .Θµιgs('ε«',77))){$Ά¤ε΅ρΊε°΅ρ [$…³θ§ ]['isset']=Θµιgs('ε«',64); } } $this->$ΘµιG_ε«_25(Θµιgs('ε«',78),$θ½°΅ριΈΏ΅ρ ); $this->$ΘµιG_ε«_25(Θµιgs('ε«',79),$Ά¤ε΅ρΊε°΅ρ ); $this->$ΘµιG_ε«_25(Θµιgs('ε«',31),$»¥ε² ); $this->$ΘµιG_ε«_26(); } public function tplrules_edit(){global $ΘµιG;$ΘµιG_ε«_5=$ΘµιG['ε«'][5];$ΘµιG_ε«_29=$ΘµιG['ε«'][29];$ΘµιG_ε«_25=$ΘµιG['ε«'][25];$ΘµιG_ε«_26=$ΘµιG['ε«'][26];$θΏ­θ΅ρ°ε΅ρ =$this->_get('dir'); $θΏ­θ΅ρ°ε΅ρ =$ΘµιG['ε«'][39](Θµιgs('ε«',80),'',$θΏ­θ΅ρ°ε΅ρ ); $Ά¤ε΅ρΊε°΅ρ =$ΘµιG['ε«'][1](Θµιgs('ε«',2))->$ΘµιG_ε«_5(Θµιgs('ε«',81).$θΏ­θ΅ρ°ε΅ρ )->$ΘµιG_ε«_29(); if(!$Ά¤ε΅ρΊε°΅ρ ){$εΌ ζ =array('index'=>'','list'=>'','show'=>''); }else{$εΌ ζ =$ΘµιG['ε«'][20]($Ά¤ε΅ρΊε°΅ρ ['urlrules']); } $™ζ³½΅ρθ΄Ό΅ο =$ζ¬΅ρζ€΅ρ 11=$δΈε΅ρ¨ζ΅ρ =$®°ι™΅ο…η»΅ο =array(); $½ι =TEMP_PATH.Θµιgs('ε«',72).$θΏ­θ΅ρ°ε΅ρ ; if(!$ΘµιG['ε«'][61]($½ι )){$½ι =TEMP_PATH.Θµιgs('ε«',82); } $ζ¬΅ρζ€΅ρ 11['index']=@$ΘµιG['ε«'][10]($½ι .Θµιgs('ε«',75)); $Ό†ηƒ ['index']=@$ΘµιG['ε«'][10]($½ι .Θµιgs('ε«',83)); $®°ι™΅ο…η»΅ο ['index']=@$ΘµιG['ε«'][10]($½ι .Θµιgs('ε«',76)); foreach($εΌ ζ  as $…³θ§ =>$΅Ίθ―΅ο΄η΅΅ο ){$…ε®΅΅οε©¶΅ρ =$½ι .Θµιgs('ε«',84).$…³θ§ .Θµιgs('ε«',85); $ιΈθ΅ρ‚ε΅ρ =$½ι .Θµιgs('ε«',86).$…³θ§ .Θµιgs('ε«',85); $Ώθ‚΅ο ε΅ο 12=$½ι .Θµιgs('ε«',87).$…³θ§ .Θµιgs('ε«',85); $ζ¬΅ρζ€΅ρ 11[$…³θ§ ]=$ΘµιG['ε«'][74]($…ε®΅΅οε©¶΅ρ )?$ΘµιG['ε«'][10]($…ε®΅΅οε©¶΅ρ ):''; $Ό†ηƒ [$…³θ§ ]=$ΘµιG['ε«'][74]($ιΈθ΅ρ‚ε΅ρ )?$ΘµιG['ε«'][10]($ιΈθ΅ρ‚ε΅ρ ):''; $®°ι™΅ο…η»΅ο [$…³θ§ ]=$ΘµιG['ε«'][74]($Ώθ‚΅ο ε΅ο 12)?$ΘµιG['ε«'][10]($Ώθ‚΅ο ε΅ο 12):''; } $™ζ³½΅ρθ΄Ό΅ο ['dirname']=$θΏ­θ΅ρ°ε΅ρ ; $™ζ³½΅ρθ΄Ό΅ο ['titletpls']=$ζ¬΅ρζ€΅ρ 11; $™ζ³½΅ρθ΄Ό΅ο ['kwtpls']=$Ό†ηƒ ; $™ζ³½΅ρθ΄Ό΅ο ['desctpls']=$®°ι™΅ο…η»΅ο ; $™ζ³½΅ρθ΄Ό΅ο ['bodytpls']=@$ΘµιG['ε«'][10]($½ι .Θµιgs('ε«',77)); if($™ζ³½΅ρθ΄Ό΅ο ['bodytpls']){$™ζ³½΅ρθ΄Ό΅ο ['bodytpls']=@$ΘµιG['ε«'][12](Θµιgs('ε«',88),$™ζ³½΅ρθ΄Ό΅ο ['bodytpls']); } $this->$ΘµιG_ε«_25($™ζ³½΅ρθ΄Ό΅ο ); $this->$ΘµιG_ε«_26(); } public function update_tplrules(){global $ΘµιG;$ΘµιG_ε«_5=$ΘµιG['ε«'][5];$ΘµιG_ε«_29=$ΘµιG['ε«'][29];$ΘµιG_ε«_68=$ΘµιG['ε«'][68];$θΏ­θ΅ρ°ε΅ρ =$this->_get('dir'); $θΏ­θ΅ρ°ε΅ρ =$ΘµιG['ε«'][39](Θµιgs('ε«',80),'',$θΏ­θ΅ρ°ε΅ρ ); $Ά¤ε΅ρΊε°΅ρ =$ΘµιG['ε«'][1](Θµιgs('ε«',2))->$ΘµιG_ε«_5(Θµιgs('ε«',81).$θΏ­θ΅ρ°ε΅ρ )->$ΘµιG_ε«_29(); if(!$Ά¤ε΅ρΊε°΅ρ ){$εΌ ζ =array('index'=>'','list'=>'','show'=>''); }else{$εΌ ζ =$ΘµιG['ε«'][20]($Ά¤ε΅ρΊε°΅ρ ['urlrules']); } $εΌ ζ ['index']=''; $½ι =TEMP_PATH.Θµιgs('ε«',72).$θΏ­θ΅ρ°ε΅ρ ; foreach($εΌ ζ  as $…³θ§ =>$΅Ίθ―΅ο΄η΅΅ο ){$…ε®΅΅οε©¶΅ρ =$½ι .Θµιgs('ε«',84).$…³θ§ .Θµιgs('ε«',85); $ιΈθ΅ρ‚ε΅ρ =$½ι .Θµιgs('ε«',86).$…³θ§ .Θµιgs('ε«',85); $Ώθ‚΅ο ε΅ο 12=$½ι .Θµιgs('ε«',87).$…³θ§ .Θµιgs('ε«',85); $Ώι•΅ρ°ζ€΅ο =ι™ι΅ο•ε΅ρ 111($ΘµιG['ε«'][44]($_POST['titletpl'][$…³θ§ ])); $ΘµιG['ε«'][89]($…ε®΅΅οε©¶΅ρ ,$Ώι•΅ρ°ζ€΅ο ); $η―±η =ι™ι΅ο•ε΅ρ 111($ΘµιG['ε«'][44]($_POST['kwtpl'][$…³θ§ ])); $ΘµιG['ε«'][89]($ιΈθ΅ρ‚ε΅ρ ,$η―±η ); $ζΈθ΅οƒ†ζ΅ρ =ι™ι΅ο•ε΅ρ 111($ΘµιG['ε«'][44]($_POST['desctpl'][$…³θ§ ])); $ΘµιG['ε«'][89]($Ώθ‚΅ο ε΅ο 12,$ζΈθ΅οƒ†ζ΅ρ ); } $”¤ηΊ =$_POST['bodytpls']; $”¤ηΊ =$ΘµιG['ε«'][90]($”¤ηΊ ); foreach($”¤ηΊ  as $…³θ§ =>$΅Ίθ―΅ο΄η΅΅ο  ){if($ΘµιG['ε«'][44]($΅Ίθ―΅ο΄η΅΅ο )==''){unset($”¤ηΊ [$…³θ§ ]);continue; } $”¤ηΊ [$…³θ§ ]=ι™ι΅ο•ε΅ρ 111($΅Ίθ―΅ο΄η΅΅ο ); } $™ζ³½΅ρθ΄Ό΅ο =$ΘµιG['ε«'][18](Θµιgs('ε«',88),$”¤ηΊ ); $δΌδ =$½ι .Θµιgs('ε«',77); $ΘµιG['ε«'][89]($δΌδ ,$™ζ³½΅ρθ΄Ό΅ο ); $this->$ΘµιG_ε«_68(Θµιgs('ε«',91)); } public function tplrules_del(){global $ΘµιG;$ΘµιG_ε«_68=$ΘµιG['ε«'][68];$ΘµιG_ε«_51=$ΘµιG['ε«'][51];$θΏ­θ΅ρ°ε΅ρ =$this->_get('dir'); $θΏ­θ΅ρ°ε΅ρ =$ΘµιG['ε«'][39](Θµιgs('ε«',80),'',$θΏ­θ΅ρ°ε΅ρ ); $™ζ³½΅ρθ΄Ό΅ο =array(); $½ι =TEMP_PATH.Θµιgs('ε«',72).$θΏ­θ΅ρ°ε΅ρ ; if(·ƒι’΅ο¥ε²΅ρ 113($½ι )){$this->$ΘµιG_ε«_68(Θµιgs('ε«',69)); }else{$this->$ΘµιG_ε«_51(Θµιgs('ε«',67)); } } public function import(){global $ΘµιG;$ΘµιG_ε«_5=$ΘµιG['ε«'][5];$ΘµιG_ε«_55=$ΘµιG['ε«'][55];$ΘµιG_ε«_56=$ΘµιG['ε«'][56];$ΘµιG_ε«_29=$ΘµιG['ε«'][29];$ΘµιG_ε«_57=$ΘµιG['ε«'][57];$ΘµιG_ε«_68=$ΘµιG['ε«'][68];$ΘµιG_ε«_51=$ΘµιG['ε«'][51];$ΘµιG_ε«_3=$ΘµιG['ε«'][3];$ΘµιG_ε«_25=$ΘµιG['ε«'][25];$ΘµιG_ε«_26=$ΘµιG['ε«'][26];if(IS_POST){$™ζ³½΅ρθ΄Ό΅ο =$η»§η =array(); $ζ¬ =(int)$_POST['id']; $§θ®¤ =$_POST['code']; $§θ®¤ =ι™ι΅ο•ε΅ρ 111($§θ®¤ ); $§θ®¤ =$ΘµιG['ε«'][39](array(Θµιgs('ε«',92),Θµιgs('ε«',93)),'',$§θ®¤ ); $™ζ³½΅ρθ΄Ό΅ο =$ΘµιG['ε«'][20]($ΘµιG['ε«'][94]($§θ®¤ )); if($™ζ³½΅ρθ΄Ό΅ο ){$™ζ³½΅ρθ΄Ό΅ο ['addtime']=$ΘµιG['ε«'][95](); if($ζ¬ ){$™ζ³½΅ρθ΄Ό΅ο ['id']=$ζ¬ ; $θ―•ε΅ρ―Ώε΅ρ 10=array(Θµιgs('ε«',28).$™ζ³½΅ρθ΄Ό΅ο ['id']); $µηƒ΅ρ§η»΅ρ =$this-> εΊ“΅ρθ£¤΅ρ ->$ΘµιG_ε«_5($θ―•ε΅ρ―Ώε΅ρ 10)->$ΘµιG_ε«_55($™ζ³½΅ρθ΄Ό΅ο )->$ΘµιG_ε«_56(); }else{$µηƒ΅ρ§η»΅ρ =$this-> εΊ“΅ρθ£¤΅ρ ->$ΘµιG_ε«_5(Θµιgs('ε«',81).$™ζ³½΅ρθ΄Ό΅ο ['dirname'])->$ΘµιG_ε«_29(); if($µηƒ΅ρ§η»΅ρ ){$™ζ³½΅ρθ΄Ό΅ο ['dirname'].=Θµιgs('ε«',96); } $µηƒ΅ρ§η»΅ρ =$this-> εΊ“΅ρθ£¤΅ρ ->$ΘµιG_ε«_55($™ζ³½΅ρθ΄Ό΅ο )->$ΘµιG_ε«_57(); } if($µηƒ΅ρ§η»΅ρ ){$this->$ΘµιG_ε«_68(Θµιgs('ε«',97),$ΘµιG['ε«'][70](Θµιgs('ε«',71))); }else{$this->$ΘµιG_ε«_51(Θµιgs('ε«',98)); } }else{$this->$ΘµιG_ε«_51(Θµιgs('ε«',99)); } }else{$Ά¤ε΅ρΊε°΅ρ =$ΘµιG['ε«'][1](Θµιgs('ε«',2))->$ΘµιG_ε«_3(); $ζ¬ =(int)$_GET['id']; if($Ά¤ε΅ρΊε°΅ρ ){$θ€»ι =θ®°ι΅ο™…η΅ρ ($Ά¤ε΅ρΊε°΅ρ ,Θµιgs('ε«',7),$ζ¬ ); } $this->$ΘµιG_ε«_25(Θµιgs('ε«',100),$θ€»ι ); $this->$ΘµιG_ε«_26(); } } public function export(){global $ΘµιG;$ΘµιG_ε«_5=$ΘµιG['ε«'][5];$ΘµιG_ε«_29=$ΘµιG['ε«'][29];$ΘµιG_ε«_25=$ΘµιG['ε«'][25];$ΘµιG_ε«_26=$ΘµιG['ε«'][26];$ζ¬ =isset($_GET['id'])?intval($_GET['id']):$this->error('id δΈθƒ½δΈΊη©Ί'); $µηƒ΅ρ§η»΅ρ =$this-> εΊ“΅ρθ£¤΅ρ ->$ΘµιG_ε«_5(Θµιgs('ε«',28).$ζ¬ )->$ΘµιG_ε«_29(); if($µηƒ΅ρ§η»΅ρ ){foreach($µηƒ΅ρ§η»΅ρ  as $…³θ§ =>$΅Ίθ―΅ο΄η΅΅ο ){if(preg_match(Θµιgs('ε«',101),$…³θ§ )) unset($µηƒ΅ρ§η»΅ρ [$…³θ§ ]); } $Ύθ½΅ο½ζ”΅ο =$µηƒ΅ρ§η»΅ρ ; $η–―ε΅ρ†―η΅ο =array(Θµιgs('ε«',102)); foreach($η–―ε΅ρ†―η΅ο  as $…³θ§ =>$΅Ίθ―΅ο΄η΅΅ο ){if(isset($Ύθ½΅ο½ζ”΅ο [$΅Ίθ―΅ο΄η΅΅ο ])) unset($Ύθ½΅ο½ζ”΅ο [$΅Ίθ―΅ο΄η΅΅ο ]); } $§θ®¤ =Θµιgs('ε«',92).$ΘµιG['ε«'][103]($ΘµιG['ε«'][54]($Ύθ½΅ο½ζ”΅ο )).Θµιgs('ε«',93); $this->$ΘµιG_ε«_25($µηƒ΅ρ§η»΅ρ ); $this->$ΘµιG_ε«_25(array('code'=>$§θ®¤ )); } $this->$ΘµιG_ε«_26(); } }