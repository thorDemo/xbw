<?php 
/* ΙΜµΘνΌώ½ϋΦΉ·΄±ΰλ£¬by Π΅°ΤΝυseo ΝψΦ·£Ίxbwseo.com */
 $ΘµιG['ε½»']=array("4796e696f5","078607e2769666e6f636","5636e6563696c6f5b636568636f54656e696665646","76f6c6e247e657f636f276f6c647f626f627f207d65647f2e2","56c69666f53796","56a796c61696275637e657","475676f5","07",1,"971646","46e656","379756b6f59716272716","d65737f59716272716","275646960737",15,"c6965636","c62757","d397164662125676160712d307f3875646e696f247f626f627f2e696d64616","d327564696073762","125676160712d307f3875646e696f247f626f627f2e696d64616",4,false,"2756469607375746961624","275646960735036333","27564696073757f6379695","57f676f637","9756b6","56d616e6","8a389e8a585e","47e657f636","d2971646d2875646e696d247f626f627d2e696d64616f3",0,"d2275646960737d2","f276f6c647f626f627f207d65647f2e2","f2","76f6c6e2","4696","d2d2d2d2","0796","e347e6f666f2c3e758eb5e98da7e7bfa8e18cbfe6bbb4e78696e59db5e0bea8e48a97eb9b98e89c98e5afa8e09886ef9497eaac96ec8cbfefafa8e99499ee32246562722d327f6c6f6360247e6f666c3","56d69647","c62757f637","e627574756258716a616","473796c6","47e657f63637","3756761607","c61647f647","56471646","46d695",10,"56d69647f647274737","d2","97164602","4727f63727b6","5646f6c6078756","c2","18cbfe59db5e0bea8eea799efbea8eb9b98e89c98e98c96e1a2b6e6b796e28a96e","18cbfe98cbfe79ea7e1aea8e0b696ed8789ef23ada6eeafb4ebb785e9b287e88cbfe7bfa8ec8cbfe8b8b5e28cb5e59db5e0bea8eb9b98e89c98e","e67696373716","9716c607379646","56762756d6f59716272716","769666e6f636","453594c4f545f424f425","27568647f6","b9b98e89c98e69bb4e6b585e","37d6564796f54736562796465627f547f626f627","5646f6c607d696","2444","e69616d6f646","473656c65637","27f6c6f636f556471646f577f6e6","f2e69616d6f646","478747e2e69616d6f646f2","3747e65647e6f636f5475676f556c69666","563616c6075627f5274737","a0d0","274737265737",20,"e656c6274737","e2e2e2",2,"22d356c64796470222a3470796273637166716a622d3665627860216c3b8e95e1a8a6ea94a5e","e316f2c32a892ee322","0757f62776f54736562796465627f547f626f627","48bb7e68885e8a389e8a585e","16471646f54736562796465627f547f626f627","473796c6f5e61626f547f626f627f5265677","4727f637b6","478747e216471646f54736562796465627f547f626f627","d6962747","5647962777","37375636365737","18cbfef9a85e09886e89da5ed9fb4e","971646f647","78e87e49fa6eea799efbea8e5a796ea8bb4e","971646f647375697","78e87e49fa6eea799efbea8e5a796e8a896e","9716460213d2","c6166747e696","19fb8e","78e87e49fa6eea799efbea8e5a796e","971646536333","78e87e49fa6eea799efbea8e4b9b5e1319fb8e","97164603536333","78e87e49fa6eea799efbea8e4b9b5e031319fb8e","4756375627","8636475666","c6d64786e2971646f5569607f54727168636f2e696d64616f2369647164737f2e2","c6d64786","ebb95efba85e0b5b8e5bea6e6b796eb9b98e89c98e5a796ea8bb4e","a9cbfef8789e0b596eea799efbea8eb9b98e89c98e5a796ea8bb4e","ebb95efba85e0b5b8e5bea6e6b796eb9b98e89c98e5a796e8a896e","a9cbfef8789e0b596eea799efbea8eb9b98e89c98e5a796e8a896e","97164673","9716460333","ebb95efba85e0b5b8e5bea6e6b796eb9b98e89c98e5a796e","a9cbfef8789e0b596eea799efbea8eb9b98e89c98e5a796e","ebb95efba85e0b5b8e5bea6e6b796eb9b98e89c98e4b9b5e1319fb8e","a9cbfef8789e0b596eea799efbea8eb9b98e89c98e4b9b5e1319fb8e","ebb95efba85e0b5b8e5bea6e6b796eb9b98e89c98e4b9b5e031319fb8e","a9cbfef8789e0b596eea799efbea8eb9b98e89c98e4b9b5e031319fb8e","c6d64786e2971646f556e696c6f54727168636f2e696d64616f2369647164737f2e2","56079747","ebb95efba85e0b5b8eb9b98e89c98e5a796e","a9cbfef8789e0b596eb9b98e89c98e5a796e","ebb95efba85e0b5b8eb9b98e89c98e4b9b5e1319fb8e","a9cbfef8789e0b596eb9b98e89c98e4b9b5e1319fb8e","ebb95efba85e0b5b8eb9b98e89c98e4b9b5e031319fb8e","a9cbfef8789e0b596eb9b98e89c98e4b9b5e031319fb8e","c6d64786e2b6565677f556e696c6f54727168636f2e696d64616f2369647164737f2e2","b6e696c6e657","18cbfef9a85e09886e4a999e0a885e","76f6c6e24736562796465627f207d65647f2e2",5000,"275647c69666f59716272716","a0","563696c637f59716272716","375657c61667f59716272716","56d616e6279646","90","3727168636c6169636560737c6d64786","22d36656278602225ae86eeb399e4ada6e08cb5e39986e22d356c647964702b6e616c626f5d34756762716470216c3","e322",65,"e316f2c3","46d2d6d295","e3465627d327f6c6f6360247e6f666c3","e347e6f666f2c3","c6275707d657a6","56d616e656079747","125676160712d307f34736562796465627f247f626f627f2e696d64616","5637f6c636f55647962777f5e6f69637375637","4727f607d696","47f626f625f2373716c636","47e657f6365627","18cbfef9a85e09886e79ea7e1aea8e0b696ed8789e"); foreach($ΘµιG['ε½»'] as $___k=>$___vo){ gettype($ΘµιG['ε½»'][$___k])=='string' && $ΘµιG['ε½»'][$___k]=ε‡½rs($___vo); } class robotAction extends adminAction{public function _init(){global $ΘµιG;$ΘµιG_ε½»_0=$ΘµιG['ε½»'][0];$ΘµιG_ε½»_2=$ΘµιG['ε½»'][2];parent::$ΘµιG_ε½»_0(); $this->•ι“ =TEMP_PATH.Θµιgs('ε½»',1); $this->$ΘµιG_ε½»_2(); } public function index(){global $ΘµιG;$ΘµιG_ε½»_6=$ΘµιG['ε½»'][6];$ΘµιG_ε½»_42=$ΘµιG['ε½»'][42];$ΘµιG_ε½»_58=$ΘµιG['ε½»'][58];$ΘµιG_ε½»_59=$ΘµιG['ε½»'][59];$Έ¥ιΆ =array_merge(config('ROBOT_LIST'),array("other"=>"ε…¶δ»–θθ››")); $®ηΊ½΅οθ„“΅ο =Θµιgs('ε½»',3); if($ΘµιG['ε½»'][4]($®ηΊ½΅οθ„“΅ο ) && $‹¦η― =$ΘµιG['ε½»'][5](ζ΅ρ¬ζ€΅ο ($®ηΊ½΅οθ„“΅ο ))){$¦ζ› =$this->$ΘµιG_ε½»_6(Θµιgs('ε½»',7),null,Θµιgs('ε½»',8)); $‘θ΄«΅ρθ‹Ή΅ο =$this->$ΘµιG_ε½»_6(Θµιgs('ε½»',9))?$this->$ΘµιG_ε½»_6(Θµιgs('ε½»',9)):@$ΘµιG['ε½»'][10]($ΘµιG['ε½»'][11]($‹¦η― )); $θ―•ε΅ρ―Ώε΅ρ =@$ΘµιG['ε½»'][12]($‹¦η― [$‘θ΄«΅ρθ‹Ή΅ο ]['day']); $ΘµιG_ε½»_6=$ΘµιG['ε½»'][6];if($this->$ΘµιG_ε½»_6(Θµιgs('ε½»',13))){$Έθ―±΅ρθ†΅ρ =$‹¦η― [$‘θ΄«΅ρθ‹Ή΅ο ]['day'][$this->$ΘµιG_ε½»_6(Θµιgs('ε½»',13))]; }else{$Έθ―±΅ρθ†΅ρ =$θ―•ε΅ρ―Ώε΅ρ ; } $εΊθ΅οΊ―ι΅ο =Θµιgs('ε½»',14); $ζ¤­ζ΅ρ΄Όθ΅ο =@$ΘµιG['ε½»'][15]($Έθ―±΅ρθ†΅ρ /$εΊθ΅οΊ―ι΅ο ); if($¦ζ› >$ζ¤­ζ΅ρ΄Όθ΅ο ){$¦ζ› =$ζ¤­ζ΅ρ΄Όθ΅ο ; } $ΘµιG_ε½»_6=$ΘµιG['ε½»'][6];if($this->$ΘµιG_ε½»_6(Θµιgs('ε½»',9))){$ι‰΄θ =$ΘµιG['ε½»'][16](Θµιgs('ε½»',17).$this->$ΘµιG_ε½»_6(Θµιgs('ε½»',9)).Θµιgs('ε½»',18).$this->$ΘµιG_ε½»_6(Θµιgs('ε½»',13))); }else{$ι‰΄θ =$ΘµιG['ε½»'][16](Θµιgs('ε½»',19)); } $™ζ³½΅ρθ΄Ό΅ο ['pages']=$ζ¤­ζ΅ρ΄Όθ΅ο >Θµιgs('ε½»',8)?ι©Ύζ΅ο­Όη΅ο 108($¦ζ› , $ζ¤­ζ΅ρ΄Όθ΅ο , Θµιgs('ε½»',20),$ι‰΄θ , Θµιgs('ε½»',21)):''; $µζ‰¦ =($¦ζ› -Θµιgs('ε½»',8))*$εΊθ΅οΊ―ι΅ο +Θµιgs('ε½»',8); $™ζ³½΅ρθ΄Ό΅ο ['list']=εΏθ ($‘θ΄«΅ρθ‹Ή΅ο ,$‹¦η― ,$µζ‰¦ ,$εΊθ΅οΊ―ι΅ο ,$this->$ΘµιG_ε½»_6(Θµιgs('ε½»',13))); !$™ζ³½΅ρθ΄Ό΅ο ['list'] && $™ζ³½΅ρθ΄Ό΅ο ['list']=array(); $»“θ― =array(Θµιgs('ε½»',22),Θµιgs('ε½»',23),Θµιgs('ε½»',24),Θµιgs('ε½»',25)); $™ζ³½΅ρθ΄Ό΅ο ['scount'][]=array( 'key'=>null, 'name'=>Θµιgs('ε½»',28), 'count'=>$θ―•ε΅ρ―Ώε΅ρ , 'url'=>Θµιgs('ε½»',30).$‘θ΄«΅ρθ‹Ή΅ο , ); foreach($»“θ―  as $…³θ§ =>$΅Ίθ―΅ο΄η΅΅ο ){$™ζ³½΅ρθ΄Ό΅ο ['scount'][]=array( 'key'=>$΅Ίθ―΅ο΄η΅΅ο , 'name'=>$Έ¥ιΆ [$΅Ίθ―΅ο΄η΅΅ο ], 'count'=>$‹¦η― [$‘θ΄«΅ρθ‹Ή΅ο ]['day'][$΅Ίθ―΅ο΄η΅΅ο ] ? $‹¦η― [$‘θ΄«΅ρθ‹Ή΅ο ]['day'][$΅Ίθ―΅ο΄η΅΅ο ]:Θµιgs('ε½»',31), 'url'=>Θµιgs('ε½»',30).$‘θ΄«΅ρθ‹Ή΅ο .Θµιgs('ε½»',32).$΅Ίθ―΅ο΄η΅΅ο , ); } $ΘµιG_ε½»_6=$ΘµιG['ε½»'][6];if($this->$ΘµιG_ε½»_6(Θµιgs('ε½»',13))){$ε²‚ε΅ρ―ζ΅ρ =Θµιgs('ε½»',33).$this->$ΘµιG_ε½»_6(Θµιgs('ε½»',13)).Θµιgs('ε½»',34).$‘θ΄«΅ρθ‹Ή΅ο .Θµιgs('ε½»',35); if(!$ΘµιG['ε½»'][4]($ε²‚ε΅ρ―ζ΅ρ )){$™ζ³½΅ρθ΄Ό΅ο ['list'][]=array('id'=>Θµιgs('ε½»',31),'name'=>Θµιgs('ε½»',37),'ip'=>Θµιgs('ε½»',37),'url'=>Θµιgs('ε½»',39),'time'=>Θµιgs('ε½»',37),'sourl'=>''); $™ζ³½΅ρθ΄Ό΅ο ['pages']=''; $Έθ―±΅ρθ†΅ρ =Θµιgs('ε½»',31); } } $™ζ³½΅ρθ΄Ό΅ο ['spider']=$this->$ΘµιG_ε½»_6(Θµιgs('ε½»',13)); if(IS_AJAX){$this->$ΘµιG_ε½»_42(array('list'=>$™ζ³½΅ρθ΄Ό΅ο ['list'],'scount'=>$™ζ³½΅ρθ΄Ό΅ο ['scount'],'pages'=>$™ζ³½΅ρθ΄Ό΅ο ['pages'],'total'=>$Έθ―±΅ρθ†΅ρ ,'scount'=>$™ζ³½΅ρθ΄Ό΅ο ['scount'],'spider'=>$™ζ³½΅ρθ΄Ό΅ο ['spider'])); exit; } $™ζ³½΅ρθ΄Ό΅ο ['sday']=$‘θ΄«΅ρθ‹Ή΅ο ; $™ζ³½΅ρθ΄Ό΅ο ['total']=$Έθ―±΅ρθ†΅ρ ; $™ζ³½΅ρθ΄Ό΅ο ['todayArr']=•ι— ($ΘµιG['ε½»'][47](Θµιgs('ε½»',48)),$‹¦η― ); unset($™ζ³½΅ρθ΄Ό΅ο ['todayArr']['ε…¨ιƒ¨']); $™ζ³½΅ρθ΄Ό΅ο ['todayCount']=isset($‹¦η― [$ΘµιG['ε½»'][47](Θµιgs('ε½»',48))]) ? $ΘµιG['ε½»'][12]($‹¦η― [$ΘµιG['ε½»'][47](Θµιgs('ε½»',48))]['day']) :Θµιgs('ε½»',31); $™ζ³½΅ρθ΄Ό΅ο ['hour']=ηΎ ($ΘµιG['ε½»'][47](Θµιgs('ε½»',48)),$‹¦η― ); $™ζ³½΅ρθ΄Ό΅ο ['weekArr']=θ·µθ (Θµιgs('ε½»',49),$‹¦η― ); $™ζ³½΅ρθ΄Ό΅ο ['weekArr']=array('ε…¨ιƒ¨'=>$™ζ³½΅ρθ΄Ό΅ο ['weekArr']['ε…¨ιƒ¨']); $™ζ³½΅ρθ΄Ό΅ο ['weekKeys'][]=$ΘµιG['ε½»'][47](Θµιgs('ε½»',48)); for($…ε›½΅οθΏ‡΅ο =Θµιgs('ε½»',8);$…ε›½΅οθΏ‡΅ο <Θµιgs('ε½»',49);$…ε›½΅οθΏ‡΅ο ++){$™ζ³½΅ρθ΄Ό΅ο ['weekKeys'][]=$ΘµιG['ε½»'][47](Θµιgs('ε½»',48),$ΘµιG['ε½»'][50](Θµιgs('ε½»',51).$…ε›½΅οθΏ‡΅ο .Θµιgs('ε½»',52))); } $ΘµιG['ε½»'][53]($™ζ³½΅ρθ΄Ό΅ο ['weekKeys']); $™ζ³½΅ρθ΄Ό΅ο ['weekcount']=Θµιgs('ε½»',31); foreach($™ζ³½΅ρθ΄Ό΅ο ['weekArr'] as $…³θ§ =>$΅Ίθ―΅ο΄η΅΅ο ){$™ζ³½΅ρθ΄Ό΅ο ['weekcount']+=$ΘµιG['ε½»'][12]($ΘµιG['ε½»'][54](Θµιgs('ε½»',55),$΅Ίθ―΅ο΄η΅΅ο )); } } $™ζ³½΅ρθ΄Ό΅ο ['errmsg']=Θµιgs('ε½»',56); if($‹¦η― ===Θµιgs('ε½»',21)){$™ζ³½΅ρθ΄Ό΅ο ['errmsg']=Θµιgs('ε½»',57); } $this->$ΘµιG_ε½»_58($™ζ³½΅ρθ΄Ό΅ο ); $this->$ΘµιG_ε½»_59(); } public function config(){global $ΘµιG;$ΘµιG_ε½»_69=$ΘµιG['ε½»'][69];$ΘµιG_ε½»_58=$ΘµιG['ε½»'][58];$ΘµιG_ε½»_59=$ΘµιG['ε½»'][59];$δΌδ =DATA_PATH.'robot_redirect_data.txt'; $’ηΌ”΅οιΆ ΅ο =''; if($ΘµιG['ε½»'][4]($δΌδ )){$’ηΌ”΅οιΆ ΅ο =@ζ΅ρ¬ζ€΅ο ($δΌδ ); } $Έ¥ιΆ =$ΘµιG['ε½»'][60]($ΘµιG['ε½»'][61](Θµιgs('ε½»',62)),array("other"=>Θµιgs('ε½»',64))); $™ζ³½΅ρθ΄Ό΅ο ['robot_list']=$Έ¥ιΆ ; $™ζ³½΅ρθ΄Ό΅ο ['list_last']=$ΘµιG['ε½»'][29]($™ζ³½΅ρθ΄Ό΅ο ['robot_list']); if($ΘµιG['ε½»'][61](Θµιgs('ε½»',65))){$™ζ³½΅ρθ΄Ό΅ο ['robot_redirect_items_v']=$ΘµιG['ε½»'][61](Θµιgs('ε½»',65)); $™ζ³½΅ρθ΄Ό΅ο ['robot_redirect_items']=@$ΘµιG['ε½»'][54](Θµιgs('ε½»',55),$ΘµιG['ε½»'][61](Θµιgs('ε½»',65))); $ζ …θ =array(); foreach($™ζ³½΅ρθ΄Ό΅ο ['robot_redirect_items'] as $…³θ§ =>$΅Ίθ―΅ο΄η΅΅ο ){$ζ …θ []=$Έ¥ιΆ [$΅Ίθ―΅ο΄η΅΅ο ]; } $™ζ³½΅ρθ΄Ό΅ο ['robot_redirect_itemsname']=$ΘµιG['ε½»'][66]($ζ …θ ,Θµιgs('ε½»',55)); } $µηƒ΅ρ§η»΅ρ =$ΘµιG['ε½»'][67](Θµιgs('ε½»',68))->$ΘµιG_ε½»_69(); foreach($µηƒ΅ρ§η»΅ρ  as $…³θ§ =>$΅Ίθ―΅ο΄η΅΅ο ){$µηƒ΅ρ§η»΅ρ [$…³θ§ ]['typename']=$Ά¤ε΅ρΊε°΅ρ [$΅Ίθ―΅ο΄η΅΅ο ['cid']]['name']; $µηƒ΅ρ§η»΅ρ [$…³θ§ ]['addtime']=$ΘµιG['ε½»'][70]($µηƒ΅ρ§η»΅ρ [$…³θ§ ]['addtime']); $°©η΅ο«ι”΅ο =DATA_PATH.Θµιgs('ε½»',71).$΅Ίθ―΅ο΄η΅΅ο ['dirname'].Θµιgs('ε½»',72); $―ε›΅ρι”¤΅ο =$ΘµιG['ε½»'][73]($°©η΅ο«ι”΅ο ); $―ε›΅ρι”¤΅ο =$ΘµιG['ε½»'][74](Θµιgs('ε½»',75),Θµιgs('ε½»',55),$―ε›΅ρι”¤΅ο ); $µηƒ΅ρ§η»΅ρ [$…³θ§ ]['domain']=$ΘµιG['ε½»'][76]($―ε›΅ρι”¤΅ο ,Θµιgs('ε½»',31),Θµιgs('ε½»',77)).($ΘµιG['ε½»'][78]($―ε›΅ρι”¤΅ο )>Θµιgs('ε½»',77)?Θµιgs('ε½»',79):''); $ζ²¦η΅οΊ¶θ΅ο =$ΘµιG['ε½»'][54](Θµιgs('ε½»',55),$΅Ίθ―΅ο΄η΅΅ο ['cid']); if($ΘµιG['ε½»'][29]($ζ²¦η΅οΊ¶θ΅ο )<Θµιgs('ε½»',80)){$µηƒ΅ρ§η»΅ρ [$…³θ§ ]['typename']=$Ά¤ε΅ρΊε°΅ρ [$΅Ίθ―΅ο΄η΅΅ο ['cid']]['name']; }else{foreach($ζ²¦η΅οΊ¶θ΅ο  as $΅¥θ΄΅οΆε΅ο =>$ζΈθ΅ρΎ•ε΅ο ){$θ‚ ε []=$Ά¤ε΅ρΊε°΅ρ [$ζΈθ΅ρΎ•ε΅ο ]['name']; } $µηƒ΅ρ§η»΅ρ [$…³θ§ ]['typename']=Θµιgs('ε½»',81).$ΘµιG['ε½»'][66](Θµιgs('ε½»',55),$θ‚ ε ).Θµιgs('ε½»',82); } } $µηƒ΅ρ§η»΅ρ =”ι— 109($µηƒ΅ρ§η»΅ρ ,Θµιgs('ε½»',36)); $™ζ³½΅ρθ΄Ό΅ο ['group_list']=$µηƒ΅ρ§η»΅ρ ; if($ΘµιG['ε½»'][61](Θµιgs('ε½»',83))=='0'){$™ζ³½΅ρθ΄Ό΅ο ['robot_redirect_group_name']=Θµιgs('ε½»',84); }else if($ΘµιG['ε½»'][61](Θµιgs('ε½»',83))){$”¤ηΊ =$ΘµιG['ε½»'][54](Θµιgs('ε½»',55),$ΘµιG['ε½»'][61](Θµιgs('ε½»',83))); foreach($”¤ηΊ  as $…³θ§ =>$΅Ίθ―΅ο΄η΅΅ο ){$µε²­ []=$™ζ³½΅ρθ΄Ό΅ο ['group_list'][$΅Ίθ―΅ο΄η΅΅ο ]['name']; } $™ζ³½΅ρθ΄Ό΅ο ['robot_redirect_group_name']=$ΘµιG['ε½»'][66]($µε²­ ,Θµιgs('ε½»',55)); } $this->$ΘµιG_ε½»_58($™ζ³½΅ρθ΄Ό΅ο ); $this->$ΘµιG_ε½»_58(Θµιgs('ε½»',85),$’ηΌ”΅οιΆ ΅ο ); $this->$ΘµιG_ε½»_59(); } public function ban(){global $ΘµιG;$ΘµιG_ε½»_58=$ΘµιG['ε½»'][58];$ΘµιG_ε½»_59=$ΘµιG['ε½»'][59];$™ζ³½΅ρθ΄Ό΅ο =array(); $Έ¥ιΆ =$ΘµιG['ε½»'][60]($ΘµιG['ε½»'][61](Θµιgs('ε½»',62)),array("other"=>Θµιgs('ε½»',64))); $™ζ³½΅ρθ΄Ό΅ο ['robot_list']=$Έ¥ιΆ ; $™ζ³½΅ρθ΄Ό΅ο ['list_last']=$ΘµιG['ε½»'][29]($™ζ³½΅ρθ΄Ό΅ο ['robot_list']); $™ζ³½΅ρθ΄Ό΅ο ['web_robot_ban_list']=@$ΘµιG['ε½»'][54](Θµιgs('ε½»',55),$ΘµιG['ε½»'][61](Θµιgs('ε½»',86))); $this->$ΘµιG_ε½»_58($™ζ³½΅ρθ΄Ό΅ο ); $this->$ΘµιG_ε½»_59(); } public function update(){global $ΘµιG;$ΘµιG_ε½»_91=$ΘµιG['ε½»'][91];$ι‡ι =$_POST['con']; if(isset($ι‡ι ['web_robot_ban_list'])){if($ι‡ι ['web_robot_ban_list']){$ι‡ι ['web_robot_ban_list']=$ΘµιG['ε½»'][66](Θµιgs('ε½»',55),$ι‡ι ['web_robot_ban_list']); }else{$ι‡ι ['web_robot_ban_list']=array(); } } $δΈ΄΅οι‚»΅ο =require $this->•ι“ ; $ι™΅ρι•΅ρ =$ΘµιG['ε½»'][60]($δΈ΄΅οι‚»΅ο ,$ι‡ι ); $ΘµιG['ε½»'][87]($ι™΅ρι•΅ρ ); Ώι€ ($this->•ι“ ,$ι™΅ρι•΅ρ ); if(isset($_POST['robot_redirect_data'])){$δΌδ =DATA_PATH.Θµιgs('ε½»',88); $™ζ³½΅ρθ΄Ό΅ο =$ΘµιG['ε½»'][89]($_POST['robot_redirect_data']); $ΘµιG['ε½»'][90]($δΌδ ,$™ζ³½΅ρθ΄Ό΅ο ); } $this->$ΘµιG_ε½»_91(Θµιgs('ε½»',92)); } public function getchartpie(){global $ΘµιG;$ΘµιG_ε½»_58=$ΘµιG['ε½»'][58];$ΘµιG_ε½»_106=$ΘµιG['ε½»'][106];$ΘµιG_ε½»_42=$ΘµιG['ε½»'][42];$Ά‘θ΄΅ρ«θ‹΅ο 5=$this->_get('value'); $®ηΊ½΅οθ„“΅ο =Θµιgs('ε½»',3); if(!$ΘµιG['ε½»'][4]($®ηΊ½΅οθ„“΅ο )){echo '0'; exit; } $‹¦η― =$ΘµιG['ε½»'][5]($ΘµιG['ε½»'][73]($®ηΊ½΅οθ„“΅ο )); if($Ά‘θ΄΅ρ«θ‹΅ο 5==Θµιgs('ε½»',93)){$·ƒι’΅ο¥ε²΅ρ =Θµιgs('ε½»',94); $™ζ³½΅ρθ΄Ό΅ο ['todayArr']=•ι— ($ΘµιG['ε½»'][47](Θµιgs('ε½»',48)),$‹¦η― ); }else if($Ά‘θ΄΅ρ«θ‹΅ο 5==Θµιgs('ε½»',95)){$·ƒι’΅ο¥ε²΅ρ =Θµιgs('ε½»',96); $™ζ³½΅ρθ΄Ό΅ο ['todayArr']=•ι— ($ΘµιG['ε½»'][47](Θµιgs('ε½»',48),$ΘµιG['ε½»'][50](Θµιgs('ε½»',97))),$‹¦η― ); }else{$Ήζ±΅ρ¤ηƒ΅ο =$ΘµιG['ε½»'][98]($Ά‘θ΄΅ρ«θ‹΅ο 5); $·ƒι’΅ο¥ε²΅ρ =Θµιgs('ε½»',99).$Ήζ±΅ρ¤ηƒ΅ο .Θµιgs('ε½»',100); if($Ά‘θ΄΅ρ«θ‹΅ο 5==Θµιgs('ε½»',101)){$·ƒι’΅ο¥ε²΅ρ =Θµιgs('ε½»',102); }else if($Ά‘θ΄΅ρ«θ‹΅ο 5==Θµιgs('ε½»',103)){$·ƒι’΅ο¥ε²΅ρ =Θµιgs('ε½»',104); } $”¤ηΊ =array(); $”¤ηΊ [$ΘµιG['ε½»'][47](Θµιgs('ε½»',48))]=•ι— ($ΘµιG['ε½»'][47](Θµιgs('ε½»',48)),$‹¦η― ); $„ζ³Ό =@$ΘµιG['ε½»'][105]($ΘµιG['ε½»'][11]($‹¦η― )); for($…ε›½΅οθΏ‡΅ο =Θµιgs('ε½»',8);$…ε›½΅οθΏ‡΅ο <$Ήζ±΅ρ¤ηƒ΅ο ;$…ε›½΅οθΏ‡΅ο ++){$¤΄η§΅οƒε›΅ο =$ΘµιG['ε½»'][47](Θµιgs('ε½»',48),$ΘµιG['ε½»'][50](Θµιgs('ε½»',51).$…ε›½΅οθΏ‡΅ο .Θµιgs('ε½»',52))); if($„ζ³Ό <=$¤΄η§΅οƒε›΅ο ){$”¤ηΊ []=•ι— ($¤΄η§΅οƒε›΅ο ,$‹¦η― ); } } foreach($”¤ηΊ  as $…³θ§ =>$΅Ίθ―΅ο΄η΅΅ο ){foreach($΅Ίθ―΅ο΄η΅΅ο  as $΅¥θ΄΅οΆε΅ο =>$ζΈθ΅ρΎ•ε΅ο ){$ζ»¨ε [$΅¥θ΄΅οΆε΅ο ]+=$ζΈθ΅ρΎ•ε΅ο ; } } $™ζ³½΅ρθ΄Ό΅ο ['todayArr']=$ζ»¨ε ; } unset($™ζ³½΅ρθ΄Ό΅ο ['todayArr']['ε…¨ιƒ¨']); $™ζ³½΅ρθ΄Ό΅ο ['title']=$·ƒι’΅ο¥ε²΅ρ ; $this->$ΘµιG_ε½»_58($™ζ³½΅ρθ΄Ό΅ο ); $html=$this->$ΘµιG_ε½»_106(Θµιgs('ε½»',107)); $this->$ΘµιG_ε½»_42(array('html'=>$html)); } public function getchartline(){global $ΘµιG;$ΘµιG_ε½»_58=$ΘµιG['ε½»'][58];$ΘµιG_ε½»_106=$ΘµιG['ε½»'][106];$ΘµιG_ε½»_42=$ΘµιG['ε½»'][42];$Ά‘θ΄΅ρ«θ‹΅ο 5=$this->_get('value'); $®ηΊ½΅οθ„“΅ο =Θµιgs('ε½»',3); if(!$ΘµιG['ε½»'][4]($®ηΊ½΅οθ„“΅ο )){echo '0'; exit; } $‹¦η― =$ΘµιG['ε½»'][5]($ΘµιG['ε½»'][73]($®ηΊ½΅οθ„“΅ο )); if($Ά‘θ΄΅ρ«θ‹΅ο 5==Θµιgs('ε½»',93)){$·ƒι’΅ο¥ε²΅ρ =Θµιgs('ε½»',109); $δΌδ 6=Θµιgs('ε½»',110); $™ζ³½΅ρθ΄Ό΅ο ['hour']=ηΎ ($ΘµιG['ε½»'][47](Θµιgs('ε½»',48)),$‹¦η― ); $™ζ³½΅ρθ΄Ό΅ο ['count']=$ΘµιG['ε½»'][12]($‹¦η― [$ΘµιG['ε½»'][47](Θµιgs('ε½»',48))]['day']); }else if($Ά‘θ΄΅ρ«θ‹΅ο 5==Θµιgs('ε½»',95)){$·ƒι’΅ο¥ε²΅ρ =Θµιgs('ε½»',111); $δΌδ 6=Θµιgs('ε½»',112); $™ζ³½΅ρθ΄Ό΅ο ['hour']=ηΎ ($ΘµιG['ε½»'][47](Θµιgs('ε½»',48),$ΘµιG['ε½»'][50](Θµιgs('ε½»',97))),$‹¦η― ); $™ζ³½΅ρθ΄Ό΅ο ['count']=$ΘµιG['ε½»'][12]($‹¦η― [$ΘµιG['ε½»'][47](Θµιgs('ε½»',48),$ΘµιG['ε½»'][50](Θµιgs('ε½»',97)))]['day']); }else if($Ά‘θ΄΅ρ«θ‹΅ο 5==Θµιgs('ε½»',113) || $Ά‘θ΄΅ρ«θ‹΅ο 5==Θµιgs('ε½»',114) || $Ά‘θ΄΅ρ«θ‹΅ο 5==Θµιgs('ε½»',101) || $Ά‘θ΄΅ρ«θ‹΅ο 5==Θµιgs('ε½»',103) ){$Ήζ±΅ρ¤ηƒ΅ο =$ΘµιG['ε½»'][98]($Ά‘θ΄΅ρ«θ‹΅ο 5); $·ƒι’΅ο¥ε²΅ρ =Θµιgs('ε½»',99).$Ήζ±΅ρ¤ηƒ΅ο .Θµιgs('ε½»',115); $δΌδ 6=Θµιgs('ε½»',99).$Ήζ±΅ρ¤ηƒ΅ο .Θµιgs('ε½»',116); if($Ά‘θ΄΅ρ«θ‹΅ο 5==Θµιgs('ε½»',101)){$·ƒι’΅ο¥ε²΅ρ =Θµιgs('ε½»',117); $δΌδ 6=Θµιgs('ε½»',118); }else if($Ά‘θ΄΅ρ«θ‹΅ο 5==Θµιgs('ε½»',103)){$·ƒι’΅ο¥ε²΅ρ =Θµιgs('ε½»',119); $δΌδ 6=Θµιgs('ε½»',120); } $”¤ηΊ =array(); $”¤ηΊ [$ΘµιG['ε½»'][47](Θµιgs('ε½»',48))]=ηΎ ($ΘµιG['ε½»'][47](Θµιgs('ε½»',48)),$‹¦η― ); $„ζ³Ό =@$ΘµιG['ε½»'][105]($ΘµιG['ε½»'][11]($‹¦η― )); for($…ε›½΅οθΏ‡΅ο =Θµιgs('ε½»',8);$…ε›½΅οθΏ‡΅ο <$Ήζ±΅ρ¤ηƒ΅ο ;$…ε›½΅οθΏ‡΅ο ++){$¤΄η§΅οƒε›΅ο =$ΘµιG['ε½»'][47](Θµιgs('ε½»',48),$ΘµιG['ε½»'][50](Θµιgs('ε½»',51).$…ε›½΅οθΏ‡΅ο .Θµιgs('ε½»',52))); if($„ζ³Ό <=$¤΄η§΅οƒε›΅ο ){$”¤ηΊ []=ηΎ ($¤΄η§΅οƒε›΅ο ,$‹¦η― ); } } $ζ»¨ε =array('0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'); foreach($”¤ηΊ  as $…³θ§ =>$΅Ίθ―΅ο΄η΅΅ο ){$Έ›ε‡΅ρ‘θΉ΅ρ =$ΘµιG['ε½»'][54](Θµιgs('ε½»',55),$΅Ίθ―΅ο΄η΅΅ο ); foreach($Έ›ε‡΅ρ‘θΉ΅ρ  as $΅¥θ΄΅οΆε΅ο =>$ζΈθ΅ρΎ•ε΅ο ){$ζ»¨ε [$΅¥θ΄΅οΆε΅ο ]+=(int)$ζΈθ΅ρΎ•ε΅ο ; } } $™ζ³½΅ρθ΄Ό΅ο ['hour']=$ΘµιG['ε½»'][66](Θµιgs('ε½»',55),$ζ»¨ε ); } $™ζ³½΅ρθ΄Ό΅ο ['title']=$·ƒι’΅ο¥ε²΅ρ ; $™ζ³½΅ρθ΄Ό΅ο ['subtitle']=$δΌδ 6.$™ζ³½΅ρθ΄Ό΅ο ['count']; $this->$ΘµιG_ε½»_58($™ζ³½΅ρθ΄Ό΅ο ); $html=$this->$ΘµιG_ε½»_106(Θµιgs('ε½»',121)); $this->$ΘµιG_ε½»_42(array('html'=>$html)); } public function getchartweek(){global $ΘµιG;$ΘµιG_ε½»_6=$ΘµιG['ε½»'][6];$ΘµιG_ε½»_58=$ΘµιG['ε½»'][58];$ΘµιG_ε½»_106=$ΘµιG['ε½»'][106];$ΘµιG_ε½»_42=$ΘµιG['ε½»'][42];$Ά‘θ΄΅ρ«θ‹΅ο 5=$this->_get('value'); $θ½°΅ριΈΏ΅ρ =$this->$ΘµιG_ε½»_6(Θµιgs('ε½»',122)); $®ηΊ½΅οθ„“΅ο =Θµιgs('ε½»',3); if(!$ΘµιG['ε½»'][4]($®ηΊ½΅οθ„“΅ο )){echo '0'; exit; } $‹¦η― =$ΘµιG['ε½»'][5]($ΘµιG['ε½»'][73]($®ηΊ½΅οθ„“΅ο )); $Ήζ±΅ρ¤ηƒ΅ο =$ΘµιG['ε½»'][98]($Ά‘θ΄΅ρ«θ‹΅ο 5); $·ƒι’΅ο¥ε²΅ρ =Θµιgs('ε½»',99).$Ήζ±΅ρ¤ηƒ΅ο .Θµιgs('ε½»',123); $δΌδ 6=Θµιgs('ε½»',99).$Ήζ±΅ρ¤ηƒ΅ο .Θµιgs('ε½»',124); if($Ά‘θ΄΅ρ«θ‹΅ο 5==Θµιgs('ε½»',101)){$·ƒι’΅ο¥ε²΅ρ =Θµιgs('ε½»',125); $δΌδ 6=Θµιgs('ε½»',126); }else if($Ά‘θ΄΅ρ«θ‹΅ο 5==Θµιgs('ε½»',103)){$·ƒι’΅ο¥ε²΅ρ =Θµιgs('ε½»',127); $δΌδ 6=Θµιgs('ε½»',128); } $™ζ³½΅ρθ΄Ό΅ο ['weekArr']=θ·µθ ($Ήζ±΅ρ¤ηƒ΅ο ,$‹¦η― ); if($θ½°΅ριΈΏ΅ρ ==''){$™ζ³½΅ρθ΄Ό΅ο ['weekArr']=array('ε…¨ιƒ¨'=>$™ζ³½΅ρθ΄Ό΅ο ['weekArr']['ε…¨ιƒ¨']); }else{unset($™ζ³½΅ρθ΄Ό΅ο ['weekArr']['ε…¨ιƒ¨']); } $™ζ³½΅ρθ΄Ό΅ο ['weekKeys'][]=$ΘµιG['ε½»'][47](Θµιgs('ε½»',48)); for($…ε›½΅οθΏ‡΅ο =Θµιgs('ε½»',8);$…ε›½΅οθΏ‡΅ο <$Ήζ±΅ρ¤ηƒ΅ο ;$…ε›½΅οθΏ‡΅ο ++){$™ζ³½΅ρθ΄Ό΅ο ['weekKeys'][]=$ΘµιG['ε½»'][47](Θµιgs('ε½»',48),$ΘµιG['ε½»'][50](Θµιgs('ε½»',51).$…ε›½΅οθΏ‡΅ο .Θµιgs('ε½»',52))); } $ΘµιG['ε½»'][53]($™ζ³½΅ρθ΄Ό΅ο ['weekKeys']); $™ζ³½΅ρθ΄Ό΅ο ['weekcount']=Θµιgs('ε½»',31); foreach($™ζ³½΅ρθ΄Ό΅ο ['weekArr'] as $…³θ§ =>$΅Ίθ―΅ο΄η΅΅ο ){$™ζ³½΅ρθ΄Ό΅ο ['weekcount']+=$ΘµιG['ε½»'][12]($ΘµιG['ε½»'][54](Θµιgs('ε½»',55),$΅Ίθ―΅ο΄η΅΅ο )); } $™ζ³½΅ρθ΄Ό΅ο ['title']=$·ƒι’΅ο¥ε²΅ρ ; $™ζ³½΅ρθ΄Ό΅ο ['daynum']=$Ήζ±΅ρ¤ηƒ΅ο ; $™ζ³½΅ρθ΄Ό΅ο ['subtitle']=$δΌδ 6.$™ζ³½΅ρθ΄Ό΅ο ['weekcount']; $this->$ΘµιG_ε½»_58($™ζ³½΅ρθ΄Ό΅ο ); $html=$this->$ΘµιG_ε½»_106(Θµιgs('ε½»',129)); $this->$ΘµιG_ε½»_42(array('html'=>$html)); } public function redirect_del(){global $ΘµιG;$ΘµιG_ε½»_91=$ΘµιG['ε½»'][91];$δΌδ ='./temp/redirect.log'; $ΘµιG['ε½»'][4]($δΌδ ) && $ΘµιG['ε½»'][130]($δΌδ ); $this->$ΘµιG_ε½»_91(Θµιgs('ε½»',131)); } public function redirect(){global $ΘµιG;$ΘµιG_ε½»_69=$ΘµιG['ε½»'][69];$ΘµιG_ε½»_58=$ΘµιG['ε½»'][58];$ΘµιG_ε½»_59=$ΘµιG['ε½»'][59];$¦ζ› =$this->_get('p',null,1); $ε²‚ε΅ρ―ζ΅ρ =Θµιgs('ε½»',132); if($ΘµιG['ε½»'][4]($ε²‚ε΅ρ―ζ΅ρ )){$™ζ³½΅ρθ΄Ό΅ο =εθ ($ε²‚ε΅ρ―ζ΅ρ ,Θµιgs('ε½»',31),Θµιgs('ε½»',133)); $”¤ηΊ =$ΘµιG['ε½»'][134]($ΘµιG['ε½»'][54](Θµιgs('ε½»',135),$™ζ³½΅ρθ΄Ό΅ο )); $ΘµιG['ε½»'][53]($”¤ηΊ ); $εΊθ΅οΊ―ι΅ο =Θµιgs('ε½»',14); $Έθ―±΅ρθ†΅ρ =$ΘµιG['ε½»'][29]($”¤ηΊ ); $ζ¤­ζ΅ρ΄Όθ΅ο =@$ΘµιG['ε½»'][15]($Έθ―±΅ρθ†΅ρ /$εΊθ΅οΊ―ι΅ο ); if($¦ζ› >$ζ¤­ζ΅ρ΄Όθ΅ο ){$¦ζ› =$ζ¤­ζ΅ρ΄Όθ΅ο ; } $ι’µι =($¦ζ› -Θµιgs('ε½»',8))*$εΊθ΅οΊ―ι΅ο ; $”¤ηΊ =$ΘµιG['ε½»'][136]($”¤ηΊ ,$ι’µι ,$εΊθ΅οΊ―ι΅ο ); $”¤ηΊ =$ΘµιG['ε½»'][137]($”¤ηΊ ); $δΎ§ε΅ο†ζ΅ο =$ΘµιG['ε½»'][61](Θµιgs('ε½»',62)); $Ήƒη» =$ΘµιG['ε½»'][67](Θµιgs('ε½»',68))->$ΘµιG_ε½»_69(); $Ήƒη» =”ι— 109($Ήƒη» ,Θµιgs('ε½»',138)); foreach($”¤ηΊ  as $…³θ§ =>$΅Ίθ―΅ο΄η΅΅ο ){list($²΅ι•΅οι—΅ρ ,$›Ύζ¶΅ο‚ε›΅ο ,$ΌΊζ ,$ζ‹£ζ΅ο΅η΅ο ,$θ΅ο—ζ¶΅ο ,$‡―ιΆ΅ρ—ε£΅ο )=$ΘµιG['ε½»'][54](Θµιgs('ε½»',139),$΅Ίθ―΅ο΄η΅΅ο ); $θ‚ ε =$Ήƒη» [$‡―ιΆ΅ρ—ε£΅ο ]['name']; $ζ¬ =$Έθ―±΅ρθ†΅ρ -$ι’µι -$…³θ§ ; $ζ‹£ζ΅ο΅η΅ο =$ΘµιG['ε½»'][140]($ζ‹£ζ΅ο΅η΅ο ); $θ΅ο—ζ¶΅ο =$ΘµιG['ε½»'][140]($θ΅ο—ζ¶΅ο ); $ζ‹£ζ΅ο΅η΅ο =Θµιgs('ε½»',141).$ζ‹£ζ΅ο΅η΅ο .Θµιgs('ε½»',142).$ΘµιG['ε½»'][76]($ζ‹£ζ΅ο΅η΅ο ,Θµιgs('ε½»',31),Θµιgs('ε½»',143)).Θµιgs('ε½»',144); $θ΅ο—ζ¶΅ο =Θµιgs('ε½»',141).$θ΅ο—ζ¶΅ο .Θµιgs('ε½»',142).$ΘµιG['ε½»'][76]($θ΅ο—ζ¶΅ο ,Θµιgs('ε½»',31),Θµιgs('ε½»',143)).Θµιgs('ε½»',144); $ζ …θ =$δΎ§ε΅ο†ζ΅ο [$ΌΊζ ]; if($ΘµιG['ε½»'][47](Θµιgs('ε½»',145))==$ΘµιG['ε½»'][47](Θµιgs('ε½»',145),$ΘµιG['ε½»'][50]($²΅ι•΅οι—΅ρ ))){$²΅ι•΅οι—΅ρ =Θµιgs('ε½»',146).$²΅ι•΅οι—΅ρ .Θµιgs('ε½»',147); } $µηƒ΅ρ§η»΅ρ []=array('id'=>$ζ¬ ,'name'=>$ζ …θ ,'ip'=>$›Ύζ¶΅ο‚ε›΅ο ,'url'=>$ζ‹£ζ΅ο΅η΅ο ,'jumpurl'=>$θ΅ο—ζ¶΅ο ,'time'=>$²΅ι•΅οι—΅ρ ,'typename'=>$θ‚ ε ); } $ι‰΄θ =$ΘµιG['ε½»'][16](Θµιgs('ε½»',150)); $εΏι =$ζ¤­ζ΅ρ΄Όθ΅ο >Θµιgs('ε½»',8)?ι©Ύζ΅ο­Όη΅ο 108($¦ζ› , $ζ¤­ζ΅ρ΄Όθ΅ο , Θµιgs('ε½»',20),$ι‰΄θ , Θµιgs('ε½»',21)):''; $this->$ΘµιG_ε½»_58(Θµιgs('ε½»',45),$εΏι ); $this->$ΘµιG_ε½»_58(Θµιgs('ε½»',46),$Έθ―±΅ρθ†΅ρ ); $this->$ΘµιG_ε½»_58(Θµιgs('ε½»',43),$µηƒ΅ρ§η»΅ρ ); } $this->$ΘµιG_ε½»_59(); } public function recount(){global $ΘµιG;$ΘµιG_ε½»_154=$ΘµιG['ε½»'][154];set_time_limit(3600); $ΘµιG['ε½»'][151](); $ΘµιG['ε½»'][152](Θµιgs('ε½»',153)); $ΏεΏ =new Robot($ΘµιG['ε½»'][61](Θµιgs('ε½»',62))); $ι‡ι =require $this->•ι“ ; $ι‡ι ['web_robot_log']=Θµιgs('ε½»',31); Ώι€ ($this->•ι“ ,$ι‡ι ); $ΏεΏ ->$ΘµιG_ε½»_154(); $ι‡ι ['web_robot_log']=Θµιgs('ε½»',8); Ώι€ ($this->•ι“ ,$ι‡ι ); echo Θµιgs('ε½»',155); } }